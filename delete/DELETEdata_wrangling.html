
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Data wrangling &#8212; ICESat-2 Sea Ice Thickness Data Analysis and Visualization</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.e2363ea40746bee74734a24ffefccd78.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="shortcut icon" href="../_static/logo.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">ICESat-2 Sea Ice Thickness Data Analysis and Visualization</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../home.html">
   ICESat-2 Sea Ice Thickness Data Analysis and Visualization
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  INTRO
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../is2_intro.html">
   Intro to the ATLAS/ICESat-2 Monthly Gridded Sea Ice Thickness Dataset
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  ANALYSIS &amp; VISUALIZATION
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../sea_ice_thickness.html">
   Sea ice thickness
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  DATA WRANGLING
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../data_wrangling.html">
   Data wrangling
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  HELPER FUNCTIONS
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../utils/markdown_rendering/read_data_utils.html">
   Reading data from Google Cloud
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../utils/markdown_rendering/plotting_utils.html">
   Plotting
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../utils/markdown_rendering/misc_utils.html">
   Miscellaneous helper functions
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/delete/DELETEdata_wrangling.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/nicolejkeeney/icesat2-book"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/nicolejkeeney/icesat2-book/issues/new?title=Issue%20on%20page%20%2Fdelete/DELETEdata_wrangling.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/nicolejkeeney/icesat2-book/edit/master/delete/DELETEdata_wrangling.ipynb"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/nicolejkeeney/icesat2-book/master?urlpath=tree/delete/DELETEdata_wrangling.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Data wrangling
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#interpolate-missing-icesat-2-data">
   Interpolate missing ICESat-2 data
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#import-notebook-dependencies">
   Import notebook dependencies
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#read-in-data">
   Read in data
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#define-filepaths">
     Define filepaths
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#select-for-only-winter-months">
     Select for only winter months
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#icesat-2-monthly-gridded-sea-ice-data">
     ICESat-2 monthly gridded sea ice data
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#read-data">
       Read data
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#clean-data-and-extract-useful-variables">
       Clean data and extract useful variables
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#nsidc-sea-ice-concentration-data">
     NSIDC sea ice concentration data
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id1">
       Read data
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#clean-data">
       Clean data
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#nsidc-region-mask-for-the-arctic-data">
     NSIDC region mask for the Arctic data
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id2">
       Read data
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#define-descriptive-information">
       Define descriptive information
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#era5-climate-reanalysis-data">
     ERA5 climate reanalysis data
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id3">
       Read data
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id4">
       Clean data
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#piomas-sea-ice-thickness-data">
     PIOMAS sea ice thickness data
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id5">
       Read data
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#nsidc-sea-ice-drift-data">
     NSIDC sea ice drift data
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id6">
       Read data
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id7">
   Interpolate missing ICESat-2 data
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#regrid-all-datasets-to-icesat-2-grid">
   Regrid all datasets to ICESat-2 grid
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#regrid-era5-data">
     Regrid ERA5 data
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#regrid-piomas-data">
     Regrid PIOMAS data
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#regrid-nsidc-sea-ice-drift-data">
     Regrid NSIDC sea ice drift data
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#add-region-mask-as-a-coordinate-to-the-final-dataset">
   Add region mask as a coordinate to the final dataset
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#save-data-to-local-machine">
     Save data to local machine
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="data-wrangling">
<h1>Data wrangling<a class="headerlink" href="#data-wrangling" title="Permalink to this headline">¶</a></h1>
<p>This notebook loads the different datasets used in the analysis into a single NETCDF4 file, with descriptive attributes maintained for each dataset. The datasets used in this notebook are listed below. The output file is accessible in the google bucket for this jupyter book and loaded in each notebook.</p>
<p><strong>Input</strong>:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://icesat-2.gsfc.nasa.gov/sea-ice-thickness-data">ICESat-2 monthly gridded sea ice data</a></p></li>
<li><p><a class="reference external" href="https://nsidc.org/data/g02202">Monthly NSIDC sea ice concentration data</a></p></li>
<li><p><a class="reference external" href="https://nsidc.org/data/polar-stereo/tools_masks.html#region_masks">NSIDC region mask</a> and <a class="reference external" href="https://nsidc.org/data/polar-stereo/tools_geo_pixel.html">coordinate</a> tools (psn25 v3)</p></li>
<li><p><a class="reference external" href="https://cds.climate.copernicus.eu/cdsapp#%21/dataset/reanalysis-era5-single-levels-monthly-means?tab=overview">ERA 5 climate renanalysis data</a></p></li>
<li><p><a class="reference external" href="http://psc.apl.uw.edu/research/projects/arctic-sea-ice-volume-anomaly/">PIOMAS mean monthly ice thickness</a></p></li>
<li><p><a class="reference external" href="https://nsidc.org/data/nsidc-0116">NSIDC sea ice motion vectors</a></p></li>
</ul>
<p><strong>Output</strong>:</p>
<ul class="simple">
<li><p>NETCDF4 file</p></li>
</ul>
</div>
<div class="section" id="interpolate-missing-icesat-2-data">
<h1>Interpolate missing ICESat-2 data<a class="headerlink" href="#interpolate-missing-icesat-2-data" title="Permalink to this headline">¶</a></h1>
<p>Interpolate missing ICESat-2 data using the <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.griddata.html">scipy.griddata.interpolate</a> function and add as data variables to the dataset. Because ICESat-2 doesn’t provide full monthly coverage, interpolating fills missing grid cells with a best guess based on surrounding data. This helps avoid sampling biases when performing time series analyses, with the cavaet that this interpolation method is subjective.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#list of variables to interpolate</span>
<span class="n">IS2VarList</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ice_type&#39;</span><span class="p">,</span><span class="s1">&#39;ice_thickness&#39;</span><span class="p">,</span><span class="s1">&#39;snow_depth&#39;</span><span class="p">,</span><span class="s1">&#39;freeboard&#39;</span><span class="p">,</span><span class="s1">&#39;ice_thickness_unc&#39;</span><span class="p">,</span><span class="s1">&#39;snow_density&#39;</span><span class="p">,</span><span class="s1">&#39;ice_density&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">varStr</span> <span class="ow">in</span> <span class="n">IS2VarList</span><span class="p">:</span>
    <span class="n">varFilled</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">month</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">is2</span><span class="o">.</span><span class="n">time</span><span class="p">)):</span> 
        <span class="n">monthlyVar</span> <span class="o">=</span> <span class="n">is2</span><span class="p">[</span><span class="n">varStr</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="n">month</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">varStr</span> <span class="o">==</span> <span class="s1">&#39;ice_thickness&#39;</span><span class="p">:</span>   <span class="c1">#if var is ice_thickness_int, set ice_thickness to zero if ice_thickness is NaN and sea ice concentration &lt; 15%</span>
            <span class="n">monthlyVar</span><span class="p">[</span><span class="n">seaice_conc_monthly_cdr</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="n">month</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mf">0.15</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            
        <span class="c1">#don&#39;t interpolate over land (regionMask = 20) or the Canadian Archipelago (regionMask = 14)</span>
        <span class="n">monthlyVar</span> <span class="o">=</span> <span class="n">ma</span><span class="o">.</span><span class="n">masked_where</span><span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">monthlyVar</span><span class="p">))</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">regionMask</span> <span class="o">!=</span> <span class="mi">20</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">regionMask</span> <span class="o">!=</span> <span class="mi">14</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">seaice_conc_monthly_cdr</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="n">month</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">0.15</span><span class="p">),</span> <span class="n">monthlyVar</span><span class="p">)</span>
        <span class="n">interp</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">interpolate</span><span class="o">.</span><span class="n">griddata</span><span class="p">((</span><span class="n">is2Lons</span><span class="p">[</span><span class="o">~</span><span class="n">monthlyVar</span><span class="o">.</span><span class="n">mask</span><span class="p">],</span> <span class="n">is2Lats</span><span class="p">[</span><span class="o">~</span><span class="n">monthlyVar</span><span class="o">.</span><span class="n">mask</span><span class="p">]),</span> 
                    <span class="n">monthlyVar</span><span class="p">[</span><span class="o">~</span><span class="n">monthlyVar</span><span class="o">.</span><span class="n">mask</span><span class="p">]</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),(</span><span class="n">is2Lons</span><span class="p">,</span> <span class="n">is2Lats</span><span class="p">),</span> <span class="n">method</span> <span class="o">=</span> <span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
        <span class="n">varFilled</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">interp</span><span class="p">)</span>
    
    <span class="c1">#convert varFilled to a DataArray object </span>
    <span class="n">varFilledDataArray</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">DataArray</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">varFilled</span><span class="p">,</span> 
                                      <span class="n">dims</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span> 
                                      <span class="n">attrs</span> <span class="o">=</span> <span class="n">is2</span><span class="p">[</span><span class="n">varStr</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span><span class="p">)</span>
    <span class="n">varFilledDataArray</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;note&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;interpolated using nearest neighbor method&#39;</span>
    <span class="n">is2</span><span class="p">[</span><span class="n">varStr</span> <span class="o">+</span> <span class="s1">&#39;_interp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">varFilledDataArray</span>

<span class="c1">#Add descriptive attributes &amp; coordinates to all ICESat-2 variables    </span>
<span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">is2</span><span class="o">.</span><span class="n">data_vars</span><span class="p">:</span>
    <span class="n">is2</span><span class="p">[</span><span class="n">var</span><span class="p">]</span> <span class="o">=</span> <span class="n">is2</span><span class="p">[</span><span class="n">var</span><span class="p">]</span><span class="o">.</span><span class="n">assign_attrs</span><span class="p">(</span><span class="n">is2</span><span class="o">.</span><span class="n">attrs</span><span class="p">)</span>

<span class="c1">#drop lat and lon as data variables and add as coordinate values </span>
<span class="n">is2</span> <span class="o">=</span> <span class="n">is2</span><span class="o">.</span><span class="n">assign_coords</span><span class="p">(</span><span class="n">coords</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;latitude&#39;</span><span class="p">:</span> <span class="p">((</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">is2Lats</span><span class="p">),</span> <span class="s1">&#39;longitude&#39;</span><span class="p">:</span> <span class="p">((</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">is2Lons</span><span class="p">)})</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This notebook is <strong>NOT</strong> configured to run in Google Colab. Each individual dataset used to compile the final data product can be downloaded from the links above. The files generated by this notebook is provided in the google bucket for this book. <a class="reference external" href="https://storage.googleapis.com/icesat2-book-data/icesat2-book-dataset.nc">Click here</a> to download or view data.</p>
</div>
</div>
<div class="section" id="import-notebook-dependencies">
<h1>Import notebook dependencies<a class="headerlink" href="#import-notebook-dependencies" title="Permalink to this headline">¶</a></h1>
<div class="cell tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">numpy.ma</span> <span class="k">as</span> <span class="nn">ma</span>
<span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">scipy.interpolate</span>
<span class="kn">import</span> <span class="nn">pyproj</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span>
<span class="kn">from</span> <span class="nn">glob</span> <span class="kn">import</span> <span class="n">glob</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="c1"># Ignore warnings in the notebook to improve display</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="read-in-data">
<h1>Read in data<a class="headerlink" href="#read-in-data" title="Permalink to this headline">¶</a></h1>
<div class="section" id="define-filepaths">
<h2>Define filepaths<a class="headerlink" href="#define-filepaths" title="Permalink to this headline">¶</a></h2>
<p>Define filepaths to data on your local machine</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">IS2_path</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>         <span class="c1">#path to monthly gridded ICESat-2 data</span>
<span class="n">SIC_path</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>         <span class="c1">#path to NSIDC weekly sea ice concentration data</span>
<span class="n">regionMask_path</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>  <span class="c1">#path to NSIDC region mask for the Arctic</span>
<span class="n">ERA5_path</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>        <span class="c1">#path to ERA5 climate reanalysis data </span>
<span class="n">PIOMAS_path</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>      <span class="c1">#path to PIOMAS data</span>
<span class="n">drift_path</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>       <span class="c1">#path to NSIDC sea ice drift data </span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="select-for-only-winter-months">
<h2>Select for only winter months<a class="headerlink" href="#select-for-only-winter-months" title="Permalink to this headline">¶</a></h2>
<p>Since we are interested in winter sea ice growth, we restrict our datasets to the months of November, December, January, February, March, and April. The function below returns a list of pandas date ranges for Nov-Apr between start and end dates of interest.</p>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">getWinterDateRange</span><span class="p">(</span><span class="n">start_year</span><span class="p">,</span> <span class="n">end_year</span><span class="p">):</span> 
    <span class="sd">&quot;&quot;&quot; Gets date range for winter season/s</span>
<span class="sd">    Args: </span>
<span class="sd">        start_year (int): start year </span>
<span class="sd">        end_year (int): end year </span>
<span class="sd">        </span>
<span class="sd">    Returns: </span>
<span class="sd">        winters (list): list of dates for all winter seasons in the input range (i.e: [&#39;1980-11&#39;,&#39;1980-12&#39;,&#39;1981-01&#39;,</span>
<span class="sd">         &#39;1981-02&#39;,&#39;1981-03&#39;,&#39;1981-04&#39;)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">winters</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start_year</span><span class="p">,</span> <span class="n">end_year</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">winters</span> <span class="o">+=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">start</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">year</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;-11&#39;</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">year</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;-04&#39;</span><span class="p">,</span> <span class="n">freq</span> <span class="o">=</span> <span class="s1">&#39;MS&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">winters</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">startYear</span> <span class="o">=</span> <span class="mi">2018</span>
<span class="n">endYear</span> <span class="o">=</span> <span class="mi">2020</span>
<span class="n">winters</span> <span class="o">=</span> <span class="n">getWinterDateRange</span><span class="p">(</span><span class="n">startYear</span><span class="p">,</span> <span class="n">endYear</span><span class="p">)</span> <span class="c1">#get date range for winter 18-19 and winter 19-20</span>
<span class="nb">print</span><span class="p">(</span><span class="n">winters</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[Timestamp(&#39;2018-11-01 00:00:00&#39;, freq=&#39;MS&#39;), Timestamp(&#39;2018-12-01 00:00:00&#39;, freq=&#39;MS&#39;), Timestamp(&#39;2019-01-01 00:00:00&#39;, freq=&#39;MS&#39;), Timestamp(&#39;2019-02-01 00:00:00&#39;, freq=&#39;MS&#39;), Timestamp(&#39;2019-03-01 00:00:00&#39;, freq=&#39;MS&#39;), Timestamp(&#39;2019-04-01 00:00:00&#39;, freq=&#39;MS&#39;), Timestamp(&#39;2019-11-01 00:00:00&#39;, freq=&#39;MS&#39;), Timestamp(&#39;2019-12-01 00:00:00&#39;, freq=&#39;MS&#39;), Timestamp(&#39;2020-01-01 00:00:00&#39;, freq=&#39;MS&#39;), Timestamp(&#39;2020-02-01 00:00:00&#39;, freq=&#39;MS&#39;), Timestamp(&#39;2020-03-01 00:00:00&#39;, freq=&#39;MS&#39;), Timestamp(&#39;2020-04-01 00:00:00&#39;, freq=&#39;MS&#39;)]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="icesat-2-monthly-gridded-sea-ice-data">
<h2>ICESat-2 monthly gridded sea ice data<a class="headerlink" href="#icesat-2-monthly-gridded-sea-ice-data" title="Permalink to this headline">¶</a></h2>
<div class="section" id="read-data">
<h3>Read data<a class="headerlink" href="#read-data" title="Permalink to this headline">¶</a></h3>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">getIS2Data</span><span class="p">(</span><span class="n">dataPath</span><span class="p">,</span> <span class="n">dates</span><span class="p">):</span> 
    <span class="sd">&quot;&quot;&quot;Gets ICESat-2 data for provided date range</span>
<span class="sd">    </span>
<span class="sd">    Args: </span>
<span class="sd">        dataPath (str): path to local directory of ICESat-2 data </span>
<span class="sd">        dates (list): pandas Timestamp objects generated by getWinterDateRange</span>
<span class="sd">        </span>
<span class="sd">    Returns: </span>
<span class="sd">        is2 (xarray dataset): ICESat-2 data or NONE if file does not exist for inputted date range</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">is2List</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1">#empty list for compiling xarray DataArray objects</span>
    <span class="k">for</span> <span class="n">date</span> <span class="ow">in</span> <span class="n">dates</span><span class="p">:</span> 
        <span class="k">try</span><span class="p">:</span>
            <span class="n">filename</span> <span class="o">=</span> <span class="n">glob</span><span class="p">(</span><span class="n">dataPath</span><span class="o">+</span> <span class="s1">&#39;IS2*&#39;</span> <span class="o">+</span> <span class="n">date</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%y&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">date</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%m&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;*.nc&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">except</span><span class="p">:</span> 
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Cannot find files; check date range, filepath or if glob is imported&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">is2</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
        <span class="n">is2</span> <span class="o">=</span> <span class="n">is2</span><span class="o">.</span><span class="n">assign_coords</span><span class="p">({</span><span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="n">date</span><span class="p">})</span>
        <span class="n">is2List</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">is2</span><span class="p">)</span>
    <span class="n">is2Data</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">is2List</span><span class="p">,</span> <span class="n">dim</span> <span class="o">=</span> <span class="s1">&#39;time&#39;</span><span class="p">)</span> <span class="c1">#concatenate all DataArray objects into a single DataArray</span>
    
    <span class="k">return</span> <span class="n">is2Data</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">is2</span> <span class="o">=</span> <span class="n">getIS2Data</span><span class="p">(</span><span class="n">IS2_path</span><span class="p">,</span> <span class="n">winters</span><span class="p">)</span>
<span class="n">is2</span> <span class="o">=</span> <span class="n">getIS2Data</span><span class="p">(</span><span class="n">localDirectory</span> <span class="o">+</span> <span class="s2">&quot;/old_is2/v2icesat2thickness_nov2020/&quot;</span><span class="p">,</span> <span class="n">winters</span><span class="p">)</span>
<span class="n">is2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt;
Dimensions:            (time: 12, x: 448, y: 304)
Coordinates:
  * time               (time) datetime64[ns] 2018-11-01 ... 2020-04-01
Dimensions without coordinates: x, y
Data variables: (12/14)
    projection         (time) int32 -2147483647 -2147483647 ... -2147483647
    longitude          (time, x, y) float32 168.3 168.1 168.0 ... -10.18 -9.999
    latitude           (time, x, y) float32 31.1 31.2 31.3 ... 34.68 34.58 34.47
    xgrid              (time, x, y) float32 -3.838e+06 -3.812e+06 ... 3.738e+06
    ygrid              (time, x, y) float32 5.838e+06 5.838e+06 ... -5.338e+06
    ice_thickness      (time, x, y) float32 nan nan nan nan ... nan nan nan nan
    ...                 ...
    mean_day_of_month  (time, x, y) float32 nan nan nan nan ... nan nan nan nan
    snow_depth         (time, x, y) float32 nan nan nan nan ... nan nan nan nan
    snow_density       (time, x, y) float32 nan nan nan nan ... nan nan nan nan
    freeboard          (time, x, y) float32 nan nan nan nan ... nan nan nan nan
    ice_type           (time, x, y) float32 nan nan nan nan ... nan nan nan nan
    ice_density        (time, x, y) float32 nan nan nan nan ... nan nan nan nan
Attributes:
    contact:      Alek Petty (alek.a.petty@nasa.gov)
    description:  Gridded ICESat-2  Nov 2018 sea ice thickness (and ancillary...
    reference:    Petty, A. A., N. T. Kurtz, R. Kwok, T. Markus, T. A. Neuman...
    history:      Created 18/11/20</pre><div class='xr-wrap' hidden><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-92d2e77b-a69e-4b07-9e65-52392eeef06e' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-92d2e77b-a69e-4b07-9e65-52392eeef06e' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 12</li><li><span>x</span>: 448</li><li><span>y</span>: 304</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-d061bccd-08ae-49ff-a5f7-33121acf48ba' class='xr-section-summary-in' type='checkbox'  checked><label for='section-d061bccd-08ae-49ff-a5f7-33121acf48ba' class='xr-section-summary' >Coordinates: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2018-11-01 ... 2020-04-01</div><input id='attrs-b8640644-899f-43f5-ae79-63b434c1ac08' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-b8640644-899f-43f5-ae79-63b434c1ac08' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9d51cc3d-09b3-4aa3-9d27-b684af653820' class='xr-var-data-in' type='checkbox'><label for='data-9d51cc3d-09b3-4aa3-9d27-b684af653820' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;2018-11-01T00:00:00.000000000&#x27;, &#x27;2018-12-01T00:00:00.000000000&#x27;,
       &#x27;2019-01-01T00:00:00.000000000&#x27;, &#x27;2019-02-01T00:00:00.000000000&#x27;,
       &#x27;2019-03-01T00:00:00.000000000&#x27;, &#x27;2019-04-01T00:00:00.000000000&#x27;,
       &#x27;2019-11-01T00:00:00.000000000&#x27;, &#x27;2019-12-01T00:00:00.000000000&#x27;,
       &#x27;2020-01-01T00:00:00.000000000&#x27;, &#x27;2020-02-01T00:00:00.000000000&#x27;,
       &#x27;2020-03-01T00:00:00.000000000&#x27;, &#x27;2020-04-01T00:00:00.000000000&#x27;],
      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-f2ac6f79-b0ca-4cb2-acb9-a937d99f0d76' class='xr-section-summary-in' type='checkbox'  checked><label for='section-f2ac6f79-b0ca-4cb2-acb9-a937d99f0d76' class='xr-section-summary' >Data variables: <span>(14)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>projection</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>int32</div><div class='xr-var-preview xr-preview'>-2147483647 ... -2147483647</div><input id='attrs-c33c47ce-99ef-4f7c-9b86-64a4bc59711b' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-c33c47ce-99ef-4f7c-9b86-64a4bc59711b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-cf9dcdef-dc86-44d5-a6bb-5d0372ba945d' class='xr-var-data-in' type='checkbox'><label for='data-cf9dcdef-dc86-44d5-a6bb-5d0372ba945d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>NSIDC Sea Ice Polar Stereographic North</dd><dt><span>proj4text :</span></dt><dd>+proj=stere +lat_0=90 +lat_ts=70 +lon_0=-45 +k=1 +x_0=0 +y_0=0 +a=6378273 +b=6356889.449 +units=m +no_defs</dd><dt><span>spatial_ref :</span></dt><dd>PROJCS[&quot;NSIDC Sea Ice Polar Stereographic North&quot;,GEOGCS[&quot;Unspecified datum based upon the Hughes 1980 ellipsoid&quot;,DATUM[&quot;Not_specified_based_on_Hughes_1980_ellipsoid&quot;,SPHEROID[&quot;Hughes 1980&quot;,6378273,298.279411123061,AUTHORITY[&quot;EPSG&quot;,&quot;7058&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6054&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.01745329251994328,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4054&quot;]],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],PROJECTION[&quot;Polar_Stereographic&quot;],PARAMETER[&quot;latitude_of_origin&quot;,70],PARAMETER[&quot;central_meridian&quot;,-45],PARAMETER[&quot;scale_factor&quot;,1],PARAMETER[&quot;false_easting&quot;,0],PARAMETER[&quot;false_northing&quot;,0],AUTHORITY[&quot;EPSG&quot;,&quot;3411&quot;],AXIS[&quot;X&quot;,UNKNOWN],AXIS[&quot;Y&quot;,UNKNOWN]]</dd><dt><span>grid_mapping_name :</span></dt><dd>polar_stereographic</dd><dt><span>srid :</span></dt><dd>urn:ogc:def:crs:EPSG::3411</dd><dt><span>GeoTransform :</span></dt><dd>-3850000.0 25000.0 0 5850000.0 0 25000.0</dd><dt><span>latitude_of_projection_origin :</span></dt><dd>90.0</dd><dt><span>standard_parallel :</span></dt><dd>70.0</dd><dt><span>longitude_of_projection_origin :</span></dt><dd>-45.0</dd><dt><span>scaling_factor :</span></dt><dd>1.0</dd><dt><span>false_easting :</span></dt><dd>0.0</dd><dt><span>false_northing :</span></dt><dd>0.0</dd><dt><span>grid_boundary_top_projected_y :</span></dt><dd>5850000.0</dd><dt><span>grid_boundary_bottom_projected_y :</span></dt><dd>-5350000.0</dd><dt><span>grid_boundary_right_projected_x :</span></dt><dd>3750000.0</dd><dt><span>grid_boundary_left_projected_x :</span></dt><dd>-3850000.0</dd><dt><span>parent_grid_cell_row_subset_start :</span></dt><dd>0.0</dd><dt><span>parent_grid_cell_row_subset_end :</span></dt><dd>448.0</dd><dt><span>parent_grid_cell_column_subset_start :</span></dt><dd>0.0</dd><dt><span>parent_grid_cell_column_subset_end :</span></dt><dd>304.0</dd><dt><span>units :</span></dt><dd>meters</dd><dt><span>semimajor_radius :</span></dt><dd>6378273.0</dd><dt><span>semiminor_radius :</span></dt><dd>6356889.449</dd></dl></div><div class='xr-var-data'><pre>array([-2147483647, -2147483647, -2147483647, -2147483647, -2147483647,
       -2147483647, -2147483647, -2147483647, -2147483647, -2147483647,
       -2147483647, -2147483647], dtype=int32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>longitude</span></div><div class='xr-var-dims'>(time, x, y)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>168.3 168.1 168.0 ... -10.18 -9.999</div><input id='attrs-650f48b1-1c23-49c5-9481-207cd8a64283' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-650f48b1-1c23-49c5-9481-207cd8a64283' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1871b47a-93cc-4f7f-8282-c73cb005cf33' class='xr-var-data-in' type='checkbox'><label for='data-1871b47a-93cc-4f7f-8282-c73cb005cf33' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degrees East</dd><dt><span>long_name :</span></dt><dd>longitude</dd></dl></div><div class='xr-var-data'><pre>array([[[168.32042 , 168.14876 , 167.97641 , ..., 102.71974 ,
         102.544685, 102.370316],
        [168.4334  , 168.26143 , 168.08879 , ..., 102.608604,
         102.433235, 102.258545],
        [168.54704 , 168.37479 , 168.20184 , ..., 102.49679 ,
         102.3211  , 102.146095],
        ...,
        [-80.970955, -80.79312 , -80.61448 , ..., -10.108099,
          -9.926246,  -9.745198],
        [-80.842575, -80.665   , -80.48663 , ..., -10.234803,
         -10.053245,  -9.872486],
        [-80.71499 , -80.53768 , -80.35958 , ..., -10.360703,
         -10.179442,  -9.998976]],

       [[168.32042 , 168.14876 , 167.97641 , ..., 102.71974 ,
         102.544685, 102.370316],
        [168.4334  , 168.26143 , 168.08879 , ..., 102.608604,
         102.433235, 102.258545],
        [168.54704 , 168.37479 , 168.20184 , ..., 102.49679 ,
         102.3211  , 102.146095],
...
        [-80.970955, -80.79312 , -80.61448 , ..., -10.108099,
          -9.926246,  -9.745198],
        [-80.842575, -80.665   , -80.48663 , ..., -10.234803,
         -10.053245,  -9.872486],
        [-80.71499 , -80.53768 , -80.35958 , ..., -10.360703,
         -10.179442,  -9.998976]],

       [[168.32042 , 168.14876 , 167.97641 , ..., 102.71974 ,
         102.544685, 102.370316],
        [168.4334  , 168.26143 , 168.08879 , ..., 102.608604,
         102.433235, 102.258545],
        [168.54704 , 168.37479 , 168.20184 , ..., 102.49679 ,
         102.3211  , 102.146095],
        ...,
        [-80.970955, -80.79312 , -80.61448 , ..., -10.108099,
          -9.926246,  -9.745198],
        [-80.842575, -80.665   , -80.48663 , ..., -10.234803,
         -10.053245,  -9.872486],
        [-80.71499 , -80.53768 , -80.35958 , ..., -10.360703,
         -10.179442,  -9.998976]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>latitude</span></div><div class='xr-var-dims'>(time, x, y)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>31.1 31.2 31.3 ... 34.58 34.47</div><input id='attrs-fb1cf8fb-b6d0-449a-aa33-c3f1601862cc' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-fb1cf8fb-b6d0-449a-aa33-c3f1601862cc' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-57c619c9-88fc-41e7-a3d2-b651039d5eca' class='xr-var-data-in' type='checkbox'><label for='data-57c619c9-88fc-41e7-a3d2-b651039d5eca' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degrees North</dd><dt><span>long_name :</span></dt><dd>latitude</dd></dl></div><div class='xr-var-data'><pre>array([[[31.102673, 31.199413, 31.295801, ..., 31.677736, 31.582802,
         31.4875  ],
        [31.25011 , 31.34728 , 31.444096, ..., 31.82774 , 31.73238 ,
         31.63665 ],
        [31.397564, 31.495165, 31.592411, ..., 31.977772, 31.881985,
         31.785826],
        ...,
        [34.345894, 34.45253 , 34.55881 , ..., 34.980267, 34.87546 ,
         34.77028 ],
        [34.198696, 34.304863, 34.41067 , ..., 34.830242, 34.725906,
         34.621197],
        [34.05146 , 34.157154, 34.262493, ..., 34.680187, 34.576324,
         34.472084]],

       [[31.102673, 31.199413, 31.295801, ..., 31.677736, 31.582802,
         31.4875  ],
        [31.25011 , 31.34728 , 31.444096, ..., 31.82774 , 31.73238 ,
         31.63665 ],
        [31.397564, 31.495165, 31.592411, ..., 31.977772, 31.881985,
         31.785826],
...
        [34.345894, 34.45253 , 34.55881 , ..., 34.980267, 34.87546 ,
         34.77028 ],
        [34.198696, 34.304863, 34.41067 , ..., 34.830242, 34.725906,
         34.621197],
        [34.05146 , 34.157154, 34.262493, ..., 34.680187, 34.576324,
         34.472084]],

       [[31.102673, 31.199413, 31.295801, ..., 31.677736, 31.582802,
         31.4875  ],
        [31.25011 , 31.34728 , 31.444096, ..., 31.82774 , 31.73238 ,
         31.63665 ],
        [31.397564, 31.495165, 31.592411, ..., 31.977772, 31.881985,
         31.785826],
        ...,
        [34.345894, 34.45253 , 34.55881 , ..., 34.980267, 34.87546 ,
         34.77028 ],
        [34.198696, 34.304863, 34.41067 , ..., 34.830242, 34.725906,
         34.621197],
        [34.05146 , 34.157154, 34.262493, ..., 34.680187, 34.576324,
         34.472084]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>xgrid</span></div><div class='xr-var-dims'>(time, x, y)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>-3.838e+06 -3.812e+06 ... 3.738e+06</div><input id='attrs-ac6364da-1dfb-4279-9138-5ea0b0223c20' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-ac6364da-1dfb-4279-9138-5ea0b0223c20' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-fe287e61-983b-4cac-a9c8-383495dcbf22' class='xr-var-data-in' type='checkbox'><label for='data-fe287e61-983b-4cac-a9c8-383495dcbf22' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>meters</dd><dt><span>long_name :</span></dt><dd>projection grid x values</dd></dl></div><div class='xr-var-data'><pre>array([[[-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
        ...,
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.]],

       [[-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
...
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.]],

       [[-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
        ...,
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>ygrid</span></div><div class='xr-var-dims'>(time, x, y)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>5.838e+06 5.838e+06 ... -5.338e+06</div><input id='attrs-8af21244-a470-4676-8f22-4fb35355fb81' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-8af21244-a470-4676-8f22-4fb35355fb81' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f4cfb1d5-cb3d-43a6-a77b-71d448a9b3be' class='xr-var-data-in' type='checkbox'><label for='data-f4cfb1d5-cb3d-43a6-a77b-71d448a9b3be' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>meters</dd><dt><span>long_name :</span></dt><dd>projection grid y values</dd></dl></div><div class='xr-var-data'><pre>array([[[ 5837500.,  5837500.,  5837500., ...,  5837500.,  5837500.,
          5837500.],
        [ 5812500.,  5812500.,  5812500., ...,  5812500.,  5812500.,
          5812500.],
        [ 5787500.,  5787500.,  5787500., ...,  5787500.,  5787500.,
          5787500.],
        ...,
        [-5287500., -5287500., -5287500., ..., -5287500., -5287500.,
         -5287500.],
        [-5312500., -5312500., -5312500., ..., -5312500., -5312500.,
         -5312500.],
        [-5337500., -5337500., -5337500., ..., -5337500., -5337500.,
         -5337500.]],

       [[ 5837500.,  5837500.,  5837500., ...,  5837500.,  5837500.,
          5837500.],
        [ 5812500.,  5812500.,  5812500., ...,  5812500.,  5812500.,
          5812500.],
        [ 5787500.,  5787500.,  5787500., ...,  5787500.,  5787500.,
          5787500.],
...
        [-5287500., -5287500., -5287500., ..., -5287500., -5287500.,
         -5287500.],
        [-5312500., -5312500., -5312500., ..., -5312500., -5312500.,
         -5312500.],
        [-5337500., -5337500., -5337500., ..., -5337500., -5337500.,
         -5337500.]],

       [[ 5837500.,  5837500.,  5837500., ...,  5837500.,  5837500.,
          5837500.],
        [ 5812500.,  5812500.,  5812500., ...,  5812500.,  5812500.,
          5812500.],
        [ 5787500.,  5787500.,  5787500., ...,  5787500.,  5787500.,
          5787500.],
        ...,
        [-5287500., -5287500., -5287500., ..., -5287500., -5287500.,
         -5287500.],
        [-5312500., -5312500., -5312500., ..., -5312500., -5312500.,
         -5312500.],
        [-5337500., -5337500., -5337500., ..., -5337500., -5337500.,
         -5337500.]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>ice_thickness</span></div><div class='xr-var-dims'>(time, x, y)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-ef11452c-eaaa-4130-96a8-b2ca3c888241' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-ef11452c-eaaa-4130-96a8-b2ca3c888241' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-60b9991f-3486-48f7-a142-9561d42ebdb6' class='xr-var-data-in' type='checkbox'><label for='data-60b9991f-3486-48f7-a142-9561d42ebdb6' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Mean ice thickness using piecewise redistributed NPdist data.</dd><dt><span>units :</span></dt><dd>meters</dd><dt><span>long_name :</span></dt><dd>sea ice thickness</dd></dl></div><div class='xr-var-data'><pre>array([[[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
...
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>ice_thickness_unc</span></div><div class='xr-var-dims'>(time, x, y)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-f9bcae04-8b7f-4391-a2c9-d36c3e920b9e' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-f9bcae04-8b7f-4391-a2c9-d36c3e920b9e' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-fec96064-4deb-4405-be5c-89b65362ed98' class='xr-var-data-in' type='checkbox'><label for='data-fec96064-4deb-4405-be5c-89b65362ed98' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Mean ice thickness uncertainty</dd><dt><span>units :</span></dt><dd>meters</dd><dt><span>long_name :</span></dt><dd>sea ice thickness uncertainty</dd></dl></div><div class='xr-var-data'><pre>array([[[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
...
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>num_segments</span></div><div class='xr-var-dims'>(time, x, y)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-0b49aebf-982a-4188-bd36-557bc090446d' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-0b49aebf-982a-4188-bd36-557bc090446d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-02f77a9a-178a-4110-b25d-ea5da201e996' class='xr-var-data-in' type='checkbox'><label for='data-02f77a9a-178a-4110-b25d-ea5da201e996' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Number of valid freeboard segments in the given monthly grid-cell</dd><dt><span>units :</span></dt><dd>segments</dd><dt><span>long_name :</span></dt><dd>number of valid valid freeboard segments</dd></dl></div><div class='xr-var-data'><pre>array([[[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
...
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>mean_day_of_month</span></div><div class='xr-var-dims'>(time, x, y)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-a0f7a12e-87ef-4cb3-95ba-881726a43700' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-a0f7a12e-87ef-4cb3-95ba-881726a43700' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2d14e840-7ac5-4bda-b39d-fe8fdcadb808' class='xr-var-data-in' type='checkbox'><label for='data-2d14e840-7ac5-4bda-b39d-fe8fdcadb808' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Mean day of the month represented by a given grid-cell based on the date of the along-track data</dd><dt><span>units :</span></dt><dd>day of month</dd><dt><span>long_name :</span></dt><dd>day of month</dd></dl></div><div class='xr-var-data'><pre>array([[[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
...
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>snow_depth</span></div><div class='xr-var-dims'>(time, x, y)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-040920da-4acf-4d33-96ac-201fc522567d' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-040920da-4acf-4d33-96ac-201fc522567d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-93238915-5df7-438a-9f6b-5059e1b3b000' class='xr-var-data-in' type='checkbox'><label for='data-93238915-5df7-438a-9f6b-5059e1b3b000' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Mean snow depth using piecewise redistributed NPdist data.</dd><dt><span>units :</span></dt><dd>meters</dd><dt><span>long_name :</span></dt><dd>snow depth</dd></dl></div><div class='xr-var-data'><pre>array([[[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
...
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>snow_density</span></div><div class='xr-var-dims'>(time, x, y)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-f4265c5e-31c9-407b-b99d-a3145580c593' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-f4265c5e-31c9-407b-b99d-a3145580c593' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c486f01c-7213-4ede-a6a1-1ceb3b6e028f' class='xr-var-data-in' type='checkbox'><label for='data-c486f01c-7213-4ede-a6a1-1ceb3b6e028f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Mean snow density from NPdist</dd><dt><span>units :</span></dt><dd>kilograms per meters cubed</dd><dt><span>long_name :</span></dt><dd>snow density</dd></dl></div><div class='xr-var-data'><pre>array([[[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
...
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>freeboard</span></div><div class='xr-var-dims'>(time, x, y)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-28e65cfd-ce73-41b3-8d35-e366402587a3' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-28e65cfd-ce73-41b3-8d35-e366402587a3' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-3e0739b8-b63c-49c9-bbe7-a64d11d5433d' class='xr-var-data-in' type='checkbox'><label for='data-3e0739b8-b63c-49c9-bbe7-a64d11d5433d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Mean freeboard from ATL10: rel003</dd><dt><span>units :</span></dt><dd>meters</dd><dt><span>long_name :</span></dt><dd>sea ice freeboard</dd></dl></div><div class='xr-var-data'><pre>array([[[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
...
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>ice_type</span></div><div class='xr-var-dims'>(time, x, y)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-ec96a725-204b-4118-91e2-10bc1d207b31' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-ec96a725-204b-4118-91e2-10bc1d207b31' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a41791af-05c3-41bd-abd1-9a8398a82711' class='xr-var-data-in' type='checkbox'><label for='data-a41791af-05c3-41bd-abd1-9a8398a82711' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>source :</span></dt><dd>http://www.osi-saf.org/?q=content/global-sea-ice-type-c</dd><dt><span>description :</span></dt><dd>Mean ice type from OSI SAF</dd><dt><span>units :</span></dt><dd>ice type flag (0 = first-year ice, 1 = multi-year ice)</dd><dt><span>long_name :</span></dt><dd>sea ice type classification</dd></dl></div><div class='xr-var-data'><pre>array([[[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
...
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>ice_density</span></div><div class='xr-var-dims'>(time, x, y)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-c87a2bf6-4402-45ad-9463-61f9299a06b5' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-c87a2bf6-4402-45ad-9463-61f9299a06b5' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-85e2d3fc-77d3-4e0d-810e-0b707a239062' class='xr-var-data-in' type='checkbox'><label for='data-85e2d3fc-77d3-4e0d-810e-0b707a239062' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Bulk sea ice density from NPdist</dd><dt><span>units :</span></dt><dd>kilograms per meters cubed</dd><dt><span>long_name :</span></dt><dd>bulk sea ice density</dd></dl></div><div class='xr-var-data'><pre>array([[[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
...
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]]], dtype=float32)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-ab1a0e81-7b06-47ab-bffb-ee3e278ae1bb' class='xr-section-summary-in' type='checkbox'  checked><label for='section-ab1a0e81-7b06-47ab-bffb-ee3e278ae1bb' class='xr-section-summary' >Attributes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>contact :</span></dt><dd>Alek Petty (alek.a.petty@nasa.gov)</dd><dt><span>description :</span></dt><dd>Gridded ICESat-2  Nov 2018 sea ice thickness (and ancillary) data, calculated using ATL10 rel003 freeboards and NESOSIM snow depth/density estimates. Data are projected onto the NSIDC Polar Stereographic projection (EPSG:3411).</dd><dt><span>reference :</span></dt><dd>Petty, A. A., N. T. Kurtz, R. Kwok, T. Markus, T. A. Neumann (2020), Winter Arctic sea ice thickness from ICESat-2 freeboards, J. Geophys. Res. Oceans.</dd><dt><span>history :</span></dt><dd>Created 18/11/20</dd></dl></div></li></ul></div></div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">is2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt;
Dimensions:            (time: 12, x: 304, y: 448)
Coordinates:
  * time               (time) datetime64[ns] 2018-11-01 ... 2020-04-01
Dimensions without coordinates: x, y
Data variables: (12/14)
    projection         (time) int32 -2147483647 -2147483647 ... -2147483647
    longitude          (time, y, x) float32 168.3 168.1 168.0 ... -10.18 -9.999
    latitude           (time, y, x) float32 31.1 31.2 31.3 ... 34.68 34.58 34.47
    xgrid              (time, y, x) float32 -3.838e+06 -3.812e+06 ... 3.738e+06
    ygrid              (time, y, x) float32 5.838e+06 5.838e+06 ... -5.338e+06
    ice_thickness      (time, y, x) float32 nan nan nan nan ... nan nan nan nan
    ...                 ...
    mean_day_of_month  (time, y, x) float32 nan nan nan nan ... nan nan nan nan
    snow_depth         (time, y, x) float32 nan nan nan nan ... nan nan nan nan
    snow_density       (time, y, x) float32 nan nan nan nan ... nan nan nan nan
    freeboard          (time, y, x) float32 nan nan nan nan ... nan nan nan nan
    ice_type           (time, y, x) float32 nan nan nan nan ... nan nan nan nan
    ice_density        (time, y, x) float32 nan nan nan nan ... nan nan nan nan
Attributes:
    contact:      Alek Petty (alek.a.petty@nasa.gov)
    description:  Gridded Nov 2018 Arctic sea ice thickness and ancillary dat...
    reference:    Data doi: 10.5067/CV6JEXEE31HF. Original methodology descri...
    history:      Created 22/04/21</pre><div class='xr-wrap' hidden><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-2903ebc6-acc6-47ef-9b69-704368209c40' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-2903ebc6-acc6-47ef-9b69-704368209c40' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 12</li><li><span>x</span>: 304</li><li><span>y</span>: 448</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-bc6c2c94-2ea3-48ed-8055-70070fecb1ec' class='xr-section-summary-in' type='checkbox'  checked><label for='section-bc6c2c94-2ea3-48ed-8055-70070fecb1ec' class='xr-section-summary' >Coordinates: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2018-11-01 ... 2020-04-01</div><input id='attrs-1aeaf356-20e2-45e2-8127-d4ecb76e9651' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-1aeaf356-20e2-45e2-8127-d4ecb76e9651' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9bf0c6aa-99f3-4141-86df-b973352bfb37' class='xr-var-data-in' type='checkbox'><label for='data-9bf0c6aa-99f3-4141-86df-b973352bfb37' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;2018-11-01T00:00:00.000000000&#x27;, &#x27;2018-12-01T00:00:00.000000000&#x27;,
       &#x27;2019-01-01T00:00:00.000000000&#x27;, &#x27;2019-02-01T00:00:00.000000000&#x27;,
       &#x27;2019-03-01T00:00:00.000000000&#x27;, &#x27;2019-04-01T00:00:00.000000000&#x27;,
       &#x27;2019-11-01T00:00:00.000000000&#x27;, &#x27;2019-12-01T00:00:00.000000000&#x27;,
       &#x27;2020-01-01T00:00:00.000000000&#x27;, &#x27;2020-02-01T00:00:00.000000000&#x27;,
       &#x27;2020-03-01T00:00:00.000000000&#x27;, &#x27;2020-04-01T00:00:00.000000000&#x27;],
      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-73ce2fa8-2f89-4e7c-9caa-bcdc9df49d2e' class='xr-section-summary-in' type='checkbox'  checked><label for='section-73ce2fa8-2f89-4e7c-9caa-bcdc9df49d2e' class='xr-section-summary' >Data variables: <span>(14)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>projection</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>int32</div><div class='xr-var-preview xr-preview'>-2147483647 ... -2147483647</div><input id='attrs-f94b727a-2eb8-436b-8782-afdb23c06096' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-f94b727a-2eb8-436b-8782-afdb23c06096' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-594940cb-c9d3-4374-b139-ca8f72fefc90' class='xr-var-data-in' type='checkbox'><label for='data-594940cb-c9d3-4374-b139-ca8f72fefc90' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>NSIDC Sea Ice Polar Stereographic North</dd><dt><span>proj4text :</span></dt><dd>+proj=stere +lat_0=90 +lat_ts=70 +lon_0=-45 +k=1 +x_0=0 +y_0=0 +a=6378273 +b=6356889.449 +units=m +no_defs</dd><dt><span>spatial_ref :</span></dt><dd>PROJCS[&quot;NSIDC Sea Ice Polar Stereographic North&quot;,GEOGCS[&quot;Unspecified datum based upon the Hughes 1980 ellipsoid&quot;,DATUM[&quot;Not_specified_based_on_Hughes_1980_ellipsoid&quot;,SPHEROID[&quot;Hughes 1980&quot;,6378273,298.279411123061,AUTHORITY[&quot;EPSG&quot;,&quot;7058&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6054&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.01745329251994328,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4054&quot;]],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],PROJECTION[&quot;Polar_Stereographic&quot;],PARAMETER[&quot;latitude_of_origin&quot;,70],PARAMETER[&quot;central_meridian&quot;,-45],PARAMETER[&quot;scale_factor&quot;,1],PARAMETER[&quot;false_easting&quot;,0],PARAMETER[&quot;false_northing&quot;,0],AUTHORITY[&quot;EPSG&quot;,&quot;3411&quot;],AXIS[&quot;X&quot;,UNKNOWN],AXIS[&quot;Y&quot;,UNKNOWN]]</dd><dt><span>grid_mapping_name :</span></dt><dd>polar_stereographic</dd><dt><span>srid :</span></dt><dd>urn:ogc:def:crs:EPSG::3411</dd><dt><span>GeoTransform :</span></dt><dd>-3850000.0 25000.0 0 5850000.0 0 25000.0</dd><dt><span>latitude_of_projection_origin :</span></dt><dd>90.0</dd><dt><span>standard_parallel :</span></dt><dd>70.0</dd><dt><span>longitude_of_projection_origin :</span></dt><dd>-45.0</dd><dt><span>scaling_factor :</span></dt><dd>1.0</dd><dt><span>false_easting :</span></dt><dd>0.0</dd><dt><span>false_northing :</span></dt><dd>0.0</dd><dt><span>grid_boundary_top_projected_y :</span></dt><dd>5850000.0</dd><dt><span>grid_boundary_bottom_projected_y :</span></dt><dd>-5350000.0</dd><dt><span>grid_boundary_right_projected_x :</span></dt><dd>3750000.0</dd><dt><span>grid_boundary_left_projected_x :</span></dt><dd>-3850000.0</dd><dt><span>parent_grid_cell_row_subset_start :</span></dt><dd>0.0</dd><dt><span>parent_grid_cell_row_subset_end :</span></dt><dd>448.0</dd><dt><span>parent_grid_cell_column_subset_start :</span></dt><dd>0.0</dd><dt><span>parent_grid_cell_column_subset_end :</span></dt><dd>304.0</dd><dt><span>units :</span></dt><dd>meters</dd><dt><span>semimajor_radius :</span></dt><dd>6378273.0</dd><dt><span>semiminor_radius :</span></dt><dd>6356889.449</dd></dl></div><div class='xr-var-data'><pre>array([-2147483647, -2147483647, -2147483647, -2147483647, -2147483647,
       -2147483647, -2147483647, -2147483647, -2147483647, -2147483647,
       -2147483647, -2147483647], dtype=int32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>longitude</span></div><div class='xr-var-dims'>(time, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>168.3 168.1 168.0 ... -10.18 -9.999</div><input id='attrs-fbe90640-ead1-46c1-a5f0-12bc0c2578ea' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-fbe90640-ead1-46c1-a5f0-12bc0c2578ea' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d7ae3711-4d80-4762-9d24-d105a9f84b90' class='xr-var-data-in' type='checkbox'><label for='data-d7ae3711-4d80-4762-9d24-d105a9f84b90' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degrees East</dd><dt><span>long_name :</span></dt><dd>longitude</dd></dl></div><div class='xr-var-data'><pre>array([[[168.32042 , 168.14876 , 167.97641 , ..., 102.71974 ,
         102.544685, 102.370316],
        [168.4334  , 168.26143 , 168.08879 , ..., 102.608604,
         102.433235, 102.258545],
        [168.54704 , 168.37479 , 168.20184 , ..., 102.49679 ,
         102.3211  , 102.146095],
        ...,
        [-80.970955, -80.79312 , -80.61448 , ..., -10.108099,
          -9.926246,  -9.745198],
        [-80.842575, -80.665   , -80.48663 , ..., -10.234803,
         -10.053245,  -9.872486],
        [-80.71499 , -80.53768 , -80.35958 , ..., -10.360703,
         -10.179442,  -9.998976]],

       [[168.32042 , 168.14876 , 167.97641 , ..., 102.71974 ,
         102.544685, 102.370316],
        [168.4334  , 168.26143 , 168.08879 , ..., 102.608604,
         102.433235, 102.258545],
        [168.54704 , 168.37479 , 168.20184 , ..., 102.49679 ,
         102.3211  , 102.146095],
...
        [-80.970955, -80.79312 , -80.61448 , ..., -10.108099,
          -9.926246,  -9.745198],
        [-80.842575, -80.665   , -80.48663 , ..., -10.234803,
         -10.053245,  -9.872486],
        [-80.71499 , -80.53768 , -80.35958 , ..., -10.360703,
         -10.179442,  -9.998976]],

       [[168.32042 , 168.14876 , 167.97641 , ..., 102.71974 ,
         102.544685, 102.370316],
        [168.4334  , 168.26143 , 168.08879 , ..., 102.608604,
         102.433235, 102.258545],
        [168.54704 , 168.37479 , 168.20184 , ..., 102.49679 ,
         102.3211  , 102.146095],
        ...,
        [-80.970955, -80.79312 , -80.61448 , ..., -10.108099,
          -9.926246,  -9.745198],
        [-80.842575, -80.665   , -80.48663 , ..., -10.234803,
         -10.053245,  -9.872486],
        [-80.71499 , -80.53768 , -80.35958 , ..., -10.360703,
         -10.179442,  -9.998976]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>latitude</span></div><div class='xr-var-dims'>(time, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>31.1 31.2 31.3 ... 34.58 34.47</div><input id='attrs-34509d6a-9704-44a5-a715-0bed2dacff7f' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-34509d6a-9704-44a5-a715-0bed2dacff7f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8e371cc3-b945-4b80-b8f7-47e2246e51db' class='xr-var-data-in' type='checkbox'><label for='data-8e371cc3-b945-4b80-b8f7-47e2246e51db' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degrees North</dd><dt><span>long_name :</span></dt><dd>latitude</dd></dl></div><div class='xr-var-data'><pre>array([[[31.102673, 31.199413, 31.295801, ..., 31.677736, 31.582802,
         31.4875  ],
        [31.25011 , 31.34728 , 31.444096, ..., 31.82774 , 31.73238 ,
         31.63665 ],
        [31.397564, 31.495165, 31.592411, ..., 31.977772, 31.881985,
         31.785826],
        ...,
        [34.345894, 34.45253 , 34.55881 , ..., 34.980267, 34.87546 ,
         34.77028 ],
        [34.198696, 34.304863, 34.41067 , ..., 34.830242, 34.725906,
         34.621197],
        [34.05146 , 34.157154, 34.262493, ..., 34.680187, 34.576324,
         34.472084]],

       [[31.102673, 31.199413, 31.295801, ..., 31.677736, 31.582802,
         31.4875  ],
        [31.25011 , 31.34728 , 31.444096, ..., 31.82774 , 31.73238 ,
         31.63665 ],
        [31.397564, 31.495165, 31.592411, ..., 31.977772, 31.881985,
         31.785826],
...
        [34.345894, 34.45253 , 34.55881 , ..., 34.980267, 34.87546 ,
         34.77028 ],
        [34.198696, 34.304863, 34.41067 , ..., 34.830242, 34.725906,
         34.621197],
        [34.05146 , 34.157154, 34.262493, ..., 34.680187, 34.576324,
         34.472084]],

       [[31.102673, 31.199413, 31.295801, ..., 31.677736, 31.582802,
         31.4875  ],
        [31.25011 , 31.34728 , 31.444096, ..., 31.82774 , 31.73238 ,
         31.63665 ],
        [31.397564, 31.495165, 31.592411, ..., 31.977772, 31.881985,
         31.785826],
        ...,
        [34.345894, 34.45253 , 34.55881 , ..., 34.980267, 34.87546 ,
         34.77028 ],
        [34.198696, 34.304863, 34.41067 , ..., 34.830242, 34.725906,
         34.621197],
        [34.05146 , 34.157154, 34.262493, ..., 34.680187, 34.576324,
         34.472084]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>xgrid</span></div><div class='xr-var-dims'>(time, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>-3.838e+06 -3.812e+06 ... 3.738e+06</div><input id='attrs-b20e82b9-253b-4abe-a294-5b4a153cb7e5' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-b20e82b9-253b-4abe-a294-5b4a153cb7e5' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-5ca03327-6236-42b0-872f-8575f2e16ec3' class='xr-var-data-in' type='checkbox'><label for='data-5ca03327-6236-42b0-872f-8575f2e16ec3' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>meters</dd><dt><span>long_name :</span></dt><dd>projection grid x values</dd></dl></div><div class='xr-var-data'><pre>array([[[-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
        ...,
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.]],

       [[-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
...
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.]],

       [[-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
        ...,
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.],
        [-3837500., -3812500., -3787500., ...,  3687500.,  3712500.,
          3737500.]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>ygrid</span></div><div class='xr-var-dims'>(time, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>5.838e+06 5.838e+06 ... -5.338e+06</div><input id='attrs-e4b8200d-d04c-48bb-b2cd-28c196818ae6' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-e4b8200d-d04c-48bb-b2cd-28c196818ae6' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-17cf2821-11d2-4e13-801c-80686b3f06b9' class='xr-var-data-in' type='checkbox'><label for='data-17cf2821-11d2-4e13-801c-80686b3f06b9' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>meters</dd><dt><span>long_name :</span></dt><dd>projection grid y values</dd></dl></div><div class='xr-var-data'><pre>array([[[ 5837500.,  5837500.,  5837500., ...,  5837500.,  5837500.,
          5837500.],
        [ 5812500.,  5812500.,  5812500., ...,  5812500.,  5812500.,
          5812500.],
        [ 5787500.,  5787500.,  5787500., ...,  5787500.,  5787500.,
          5787500.],
        ...,
        [-5287500., -5287500., -5287500., ..., -5287500., -5287500.,
         -5287500.],
        [-5312500., -5312500., -5312500., ..., -5312500., -5312500.,
         -5312500.],
        [-5337500., -5337500., -5337500., ..., -5337500., -5337500.,
         -5337500.]],

       [[ 5837500.,  5837500.,  5837500., ...,  5837500.,  5837500.,
          5837500.],
        [ 5812500.,  5812500.,  5812500., ...,  5812500.,  5812500.,
          5812500.],
        [ 5787500.,  5787500.,  5787500., ...,  5787500.,  5787500.,
          5787500.],
...
        [-5287500., -5287500., -5287500., ..., -5287500., -5287500.,
         -5287500.],
        [-5312500., -5312500., -5312500., ..., -5312500., -5312500.,
         -5312500.],
        [-5337500., -5337500., -5337500., ..., -5337500., -5337500.,
         -5337500.]],

       [[ 5837500.,  5837500.,  5837500., ...,  5837500.,  5837500.,
          5837500.],
        [ 5812500.,  5812500.,  5812500., ...,  5812500.,  5812500.,
          5812500.],
        [ 5787500.,  5787500.,  5787500., ...,  5787500.,  5787500.,
          5787500.],
        ...,
        [-5287500., -5287500., -5287500., ..., -5287500., -5287500.,
         -5287500.],
        [-5312500., -5312500., -5312500., ..., -5312500., -5312500.,
         -5312500.],
        [-5337500., -5337500., -5337500., ..., -5337500., -5337500.,
         -5337500.]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>ice_thickness</span></div><div class='xr-var-dims'>(time, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-01eb56df-d877-4d18-a5df-e8100c01bebe' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-01eb56df-d877-4d18-a5df-e8100c01bebe' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b267acdf-8094-4de9-a00a-e63e975dfa46' class='xr-var-data-in' type='checkbox'><label for='data-b267acdf-8094-4de9-a00a-e63e975dfa46' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Mean sea ice thickness from redistributed (piecewise) NESOSIM data.</dd><dt><span>units :</span></dt><dd>meters</dd><dt><span>long_name :</span></dt><dd>sea ice thickness</dd></dl></div><div class='xr-var-data'><pre>array([[[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
...
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>ice_thickness_unc</span></div><div class='xr-var-dims'>(time, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-d74db94e-62c8-47c1-b2b2-2d15f66683ed' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-d74db94e-62c8-47c1-b2b2-2d15f66683ed' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b99a7082-1da7-4fdb-bfd8-ed70953e363f' class='xr-var-data-in' type='checkbox'><label for='data-b99a7082-1da7-4fdb-bfd8-ed70953e363f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Mean ice thickness uncertainty</dd><dt><span>units :</span></dt><dd>meters</dd><dt><span>long_name :</span></dt><dd>sea ice thickness uncertainty</dd></dl></div><div class='xr-var-data'><pre>array([[[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
...
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>num_segments</span></div><div class='xr-var-dims'>(time, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-07c09014-d409-4974-bbbf-19bd9839d56b' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-07c09014-d409-4974-bbbf-19bd9839d56b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2774280d-79c7-415f-b857-264875af611f' class='xr-var-data-in' type='checkbox'><label for='data-2774280d-79c7-415f-b857-264875af611f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Number of valid freeboard/thickness segments in the given monthly grid-cell</dd><dt><span>units :</span></dt><dd>segments</dd><dt><span>long_name :</span></dt><dd>number of segments</dd></dl></div><div class='xr-var-data'><pre>array([[[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
...
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>mean_day_of_month</span></div><div class='xr-var-dims'>(time, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-f15e6d0e-662f-4cbe-8adc-4e012a3ded2a' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-f15e6d0e-662f-4cbe-8adc-4e012a3ded2a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-4566f8d6-3ca6-4344-8e54-448638d77327' class='xr-var-data-in' type='checkbox'><label for='data-4566f8d6-3ca6-4344-8e54-448638d77327' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Mean day of the month represented by a given grid-cell based on the date of the along-track data</dd><dt><span>units :</span></dt><dd>day of month</dd><dt><span>long_name :</span></dt><dd>day of month</dd></dl></div><div class='xr-var-data'><pre>array([[[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
...
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>snow_depth</span></div><div class='xr-var-dims'>(time, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-04102a1d-9f59-4c04-8ca3-ca4cd5463409' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-04102a1d-9f59-4c04-8ca3-ca4cd5463409' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b2cf63aa-c041-437b-adda-755455bb72ed' class='xr-var-data-in' type='checkbox'><label for='data-b2cf63aa-c041-437b-adda-755455bb72ed' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Mean snow depth from redistributed (piecewise) NESOSIM data</dd><dt><span>units :</span></dt><dd>meters</dd><dt><span>long_name :</span></dt><dd>snow depth</dd></dl></div><div class='xr-var-data'><pre>array([[[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
...
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>snow_density</span></div><div class='xr-var-dims'>(time, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-9790d832-2f78-4274-aa81-514ecd862ebe' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-9790d832-2f78-4274-aa81-514ecd862ebe' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-4c964bd2-527f-4bc0-9614-0cbd4cd57717' class='xr-var-data-in' type='checkbox'><label for='data-4c964bd2-527f-4bc0-9614-0cbd4cd57717' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Mean snow density from NESOSIM</dd><dt><span>units :</span></dt><dd>kilograms per meters cubed</dd><dt><span>long_name :</span></dt><dd>snow density</dd></dl></div><div class='xr-var-data'><pre>array([[[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
...
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>freeboard</span></div><div class='xr-var-dims'>(time, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-eebfcc88-dfbe-4646-b7e8-5387dcf73e05' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-eebfcc88-dfbe-4646-b7e8-5387dcf73e05' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b69c0b7e-79b8-4071-8bbc-84607bec04d4' class='xr-var-data-in' type='checkbox'><label for='data-b69c0b7e-79b8-4071-8bbc-84607bec04d4' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Mean freeboard from rel004 ATL10</dd><dt><span>units :</span></dt><dd>meters</dd><dt><span>long_name :</span></dt><dd>sea ice freeboard</dd></dl></div><div class='xr-var-data'><pre>array([[[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
...
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>ice_type</span></div><div class='xr-var-dims'>(time, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-da6ddb33-40d4-4409-a26a-787f99190096' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-da6ddb33-40d4-4409-a26a-787f99190096' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ca9b6969-341e-4935-a329-35c3995aee85' class='xr-var-data-in' type='checkbox'><label for='data-ca9b6969-341e-4935-a329-35c3995aee85' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>source :</span></dt><dd>http://www.osi-saf.org/?q=content/global-sea-ice-type-c</dd><dt><span>description :</span></dt><dd>Mean ice type from OSI SAF</dd><dt><span>units :</span></dt><dd>ice type flag (0 = first-year ice, 1 = multi-year ice)</dd><dt><span>long_name :</span></dt><dd>sea ice type classification</dd></dl></div><div class='xr-var-data'><pre>array([[[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
...
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>ice_density</span></div><div class='xr-var-dims'>(time, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-285abb12-bd15-4dc7-af86-d96a41c55709' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-285abb12-bd15-4dc7-af86-d96a41c55709' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b28dc81f-055c-480a-bbb2-1be72d1ba757' class='xr-var-data-in' type='checkbox'><label for='data-b28dc81f-055c-480a-bbb2-1be72d1ba757' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Bulk sea ice density</dd><dt><span>units :</span></dt><dd>kilograms per meters cubed</dd><dt><span>long_name :</span></dt><dd>bulk sea ice density</dd></dl></div><div class='xr-var-data'><pre>array([[[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
...
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]],

       [[nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        ...,
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan],
        [nan, nan, nan, ..., nan, nan, nan]]], dtype=float32)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-fa880864-1134-4e35-8996-c9c8f6eef54d' class='xr-section-summary-in' type='checkbox'  checked><label for='section-fa880864-1134-4e35-8996-c9c8f6eef54d' class='xr-section-summary' >Attributes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>contact :</span></dt><dd>Alek Petty (alek.a.petty@nasa.gov)</dd><dt><span>description :</span></dt><dd>Gridded Nov 2018 Arctic sea ice thickness and ancillary data, calculated using ICESat-2 ATL10 rel004 freeboards and NESOSIM v1.1 snow depth/density estimates. Data are projected onto the NSIDC Polar Stereographic projection (EPSG:3411).</dd><dt><span>reference :</span></dt><dd>Data doi: 10.5067/CV6JEXEE31HF. Original methodology described in Petty, A. A., N. T. Kurtz, R. Kwok, T. Markus, T. A. Neumann (2020), Winter Arctic sea ice thickness from ICESat‐2 freeboards, Journal of Geophysical Research: Oceans, 125, e2019JC015764. doi:10.1029/2019JC015764.</dd><dt><span>history :</span></dt><dd>Created 22/04/21</dd></dl></div></li></ul></div></div></div></div>
</div>
</div>
<div class="section" id="clean-data-and-extract-useful-variables">
<h3>Clean data and extract useful variables<a class="headerlink" href="#clean-data-and-extract-useful-variables" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#drop projection variable </span>
<span class="n">is2</span> <span class="o">=</span> <span class="n">is2</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;projection&#39;</span><span class="p">)</span>

<span class="c1">#get lat and lon</span>
<span class="n">is2Lats</span> <span class="o">=</span> <span class="n">is2</span><span class="o">.</span><span class="n">latitude</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">time</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">values</span>
<span class="n">is2Lons</span> <span class="o">=</span> <span class="n">is2</span><span class="o">.</span><span class="n">longitude</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">time</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">values</span>
<span class="n">is2LonsAttrs</span> <span class="o">=</span> <span class="n">is2</span><span class="o">.</span><span class="n">longitude</span><span class="o">.</span><span class="n">attrs</span> 
<span class="n">is2LatsAttrs</span> <span class="o">=</span> <span class="n">is2</span><span class="o">.</span><span class="n">latitude</span><span class="o">.</span><span class="n">attrs</span>

<span class="c1">#assign lat and lon as coordinates to dataset</span>
<span class="n">is2</span> <span class="o">=</span> <span class="n">is2</span><span class="o">.</span><span class="n">assign_coords</span><span class="p">(</span><span class="n">coords</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;latitude&#39;</span><span class="p">:</span> <span class="p">((</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">is2Lats</span><span class="p">),</span> <span class="s1">&#39;longitude&#39;</span><span class="p">:</span> <span class="p">((</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">is2Lons</span><span class="p">)})</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="nsidc-sea-ice-concentration-data">
<h2>NSIDC sea ice concentration data<a class="headerlink" href="#nsidc-sea-ice-concentration-data" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>Read data<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">getSICData</span><span class="p">(</span><span class="n">dataPath</span><span class="p">,</span> <span class="n">dates</span><span class="p">):</span> 
    <span class="sd">&quot;&quot;&quot;Gets sea ice concentration data for provided date range</span>
<span class="sd">    </span>
<span class="sd">    Args: </span>
<span class="sd">        dataPath (str): path to local directory of sea ice concentration data </span>
<span class="sd">        dates (list): pandas Timestamp objects generated by getWinterDateRange</span>
<span class="sd">        </span>
<span class="sd">    Returns: </span>
<span class="sd">        sicData (xarray dataset): sea ice concentration data or NONE if file does not exist for inputted date range</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">sicList</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1">#empty list for compiling xarray DataArray objects</span>
    <span class="k">for</span> <span class="n">date</span> <span class="ow">in</span> <span class="n">dates</span><span class="p">:</span> 
        <span class="k">try</span><span class="p">:</span>
            <span class="n">filename</span> <span class="o">=</span> <span class="n">glob</span><span class="p">(</span><span class="n">dataPath</span><span class="o">+</span> <span class="s1">&#39;seaice_conc_monthly*&#39;</span> <span class="o">+</span> <span class="n">date</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">date</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%m&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;*.nc&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">except</span><span class="p">:</span> 
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Cannot find files; check date range, filepath or if glob is imported&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">dropVariables</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;goddard_merged_seaice_conc_monthly&#39;</span><span class="p">,</span><span class="s1">&#39;goddard_bt_seaice_conc_monthly&#39;</span><span class="p">,</span> <span class="s1">&#39;goddard_nt_seaice_conc_monthly&#39;</span><span class="p">]</span>
        <span class="n">sicList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">drop_variables</span> <span class="o">=</span> <span class="n">dropVariables</span><span class="p">))</span>
    <span class="n">sicData</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">sicList</span> <span class="p">,</span> <span class="n">dim</span> <span class="o">=</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">combine_attrs</span> <span class="o">=</span> <span class="s1">&#39;override&#39;</span><span class="p">,</span> <span class="n">data_vars</span> <span class="o">=</span> <span class="s1">&#39;minimal&#39;</span><span class="p">)</span> <span class="c1">#concatenate all DataArray objects into a single DataArray</span>
    
    <span class="k">return</span> <span class="n">sicData</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sic</span> <span class="o">=</span> <span class="n">getSICData</span><span class="p">(</span><span class="n">SIC_path</span><span class="p">,</span> <span class="n">winters</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="nn">~/opt/anaconda3/envs/icesat2_book/lib/python3.8/site-packages/xarray/backends/file_manager.py</span> in <span class="ni">_acquire_with_cache_info</span><span class="nt">(self, needs_lock)</span>
<span class="g g-Whitespace">    </span><span class="mi">198</span>             <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">199</span>                 <span class="n">file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_key</span><span class="p">]</span>
<span class="g g-Whitespace">    </span><span class="mi">200</span>             <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>

<span class="nn">~/opt/anaconda3/envs/icesat2_book/lib/python3.8/site-packages/xarray/backends/lru_cache.py</span> in <span class="ni">__getitem__</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">     </span><span class="mi">52</span>         <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
<span class="ne">---&gt; </span><span class="mi">53</span>             <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
<span class="g g-Whitespace">     </span><span class="mi">54</span>             <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">move_to_end</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<span class="ne">KeyError</span>: [&lt;class &#39;netCDF4._netCDF4.Dataset&#39;&gt;, (&#39;/Users/nicolekeeney/github_repos/icesat2-book-data/cdr/seaice_conc_monthly_nh_f17_201811_v03r01.nc&#39;,), &#39;r&#39;, ((&#39;clobber&#39;, True), (&#39;diskless&#39;, False), (&#39;format&#39;, &#39;NETCDF4&#39;), (&#39;persist&#39;, False))]

<span class="n">During</span> <span class="n">handling</span> <span class="n">of</span> <span class="n">the</span> <span class="n">above</span> <span class="n">exception</span><span class="p">,</span> <span class="n">another</span> <span class="n">exception</span> <span class="n">occurred</span><span class="p">:</span>

<span class="ne">OSError</span><span class="g g-Whitespace">                                   </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">46</span><span class="o">-</span><span class="mi">94</span><span class="n">ffbe58915b</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">sic</span> <span class="o">=</span> <span class="n">getSICData</span><span class="p">(</span><span class="n">SIC_path</span><span class="p">,</span> <span class="n">winters</span><span class="p">)</span>

<span class="nn">&lt;ipython-input-45-c65452b10ad4&gt;</span> in <span class="ni">getSICData</span><span class="nt">(dataPath, dates)</span>
<span class="g g-Whitespace">     </span><span class="mi">17</span>             <span class="k">return</span> <span class="kc">None</span>
<span class="g g-Whitespace">     </span><span class="mi">18</span>         <span class="n">dropVariables</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;goddard_merged_seaice_conc_monthly&#39;</span><span class="p">,</span><span class="s1">&#39;goddard_bt_seaice_conc_monthly&#39;</span><span class="p">,</span> <span class="s1">&#39;goddard_nt_seaice_conc_monthly&#39;</span><span class="p">]</span>
<span class="ne">---&gt; </span><span class="mi">19</span>         <span class="n">sicList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">drop_variables</span> <span class="o">=</span> <span class="n">dropVariables</span><span class="p">))</span>
<span class="g g-Whitespace">     </span><span class="mi">20</span>     <span class="n">sicData</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">sicList</span> <span class="p">,</span> <span class="n">dim</span> <span class="o">=</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">combine_attrs</span> <span class="o">=</span> <span class="s1">&#39;override&#39;</span><span class="p">,</span> <span class="n">data_vars</span> <span class="o">=</span> <span class="s1">&#39;minimal&#39;</span><span class="p">)</span> <span class="c1">#concatenate all DataArray objects into a single DataArray</span>
<span class="g g-Whitespace">     </span><span class="mi">21</span> 

<span class="nn">~/opt/anaconda3/envs/icesat2_book/lib/python3.8/site-packages/xarray/backends/api.py</span> in <span class="ni">open_dataset</span><span class="nt">(filename_or_obj, engine, chunks, cache, decode_cf, mask_and_scale, decode_times, decode_timedelta, use_cftime, concat_characters, decode_coords, drop_variables, backend_kwargs, *args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">494</span> 
<span class="g g-Whitespace">    </span><span class="mi">495</span>     <span class="n">overwrite_encoded_chunks</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;overwrite_encoded_chunks&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">496</span>     <span class="n">backend_ds</span> <span class="o">=</span> <span class="n">backend</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">497</span>         <span class="n">filename_or_obj</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">498</span>         <span class="n">drop_variables</span><span class="o">=</span><span class="n">drop_variables</span><span class="p">,</span>

<span class="nn">~/opt/anaconda3/envs/icesat2_book/lib/python3.8/site-packages/xarray/backends/netCDF4_.py</span> in <span class="ni">open_dataset</span><span class="nt">(self, filename_or_obj, mask_and_scale, decode_times, concat_characters, decode_coords, drop_variables, use_cftime, decode_timedelta, group, mode, format, clobber, diskless, persist, lock, autoclose)</span>
<span class="g g-Whitespace">    </span><span class="mi">547</span> 
<span class="g g-Whitespace">    </span><span class="mi">548</span>         <span class="n">filename_or_obj</span> <span class="o">=</span> <span class="n">_normalize_path</span><span class="p">(</span><span class="n">filename_or_obj</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">549</span>         <span class="n">store</span> <span class="o">=</span> <span class="n">NetCDF4DataStore</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">550</span>             <span class="n">filename_or_obj</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">551</span>             <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">,</span>

<span class="nn">~/opt/anaconda3/envs/icesat2_book/lib/python3.8/site-packages/xarray/backends/netCDF4_.py</span> in <span class="ni">open</span><span class="nt">(cls, filename, mode, format, group, clobber, diskless, persist, lock, lock_maker, autoclose)</span>
<span class="g g-Whitespace">    </span><span class="mi">378</span>             <span class="n">netCDF4</span><span class="o">.</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="n">kwargs</span>
<span class="g g-Whitespace">    </span><span class="mi">379</span>         <span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">380</span>         <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">manager</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="n">group</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">,</span> <span class="n">lock</span><span class="o">=</span><span class="n">lock</span><span class="p">,</span> <span class="n">autoclose</span><span class="o">=</span><span class="n">autoclose</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">381</span> 
<span class="g g-Whitespace">    </span><span class="mi">382</span>     <span class="k">def</span> <span class="nf">_acquire</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">needs_lock</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>

<span class="nn">~/opt/anaconda3/envs/icesat2_book/lib/python3.8/site-packages/xarray/backends/netCDF4_.py</span> in <span class="ni">__init__</span><span class="nt">(self, manager, group, mode, lock, autoclose)</span>
<span class="g g-Whitespace">    </span><span class="mi">326</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_group</span> <span class="o">=</span> <span class="n">group</span>
<span class="g g-Whitespace">    </span><span class="mi">327</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span> <span class="o">=</span> <span class="n">mode</span>
<span class="ne">--&gt; </span><span class="mi">328</span>         <span class="bp">self</span><span class="o">.</span><span class="n">format</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ds</span><span class="o">.</span><span class="n">data_model</span>
<span class="g g-Whitespace">    </span><span class="mi">329</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_filename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ds</span><span class="o">.</span><span class="n">filepath</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">330</span>         <span class="bp">self</span><span class="o">.</span><span class="n">is_remote</span> <span class="o">=</span> <span class="n">is_remote_uri</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_filename</span><span class="p">)</span>

<span class="nn">~/opt/anaconda3/envs/icesat2_book/lib/python3.8/site-packages/xarray/backends/netCDF4_.py</span> in <span class="ni">ds</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">387</span>     <span class="nd">@property</span>
<span class="g g-Whitespace">    </span><span class="mi">388</span>     <span class="k">def</span> <span class="nf">ds</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="ne">--&gt; </span><span class="mi">389</span>         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_acquire</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">390</span> 
<span class="g g-Whitespace">    </span><span class="mi">391</span>     <span class="k">def</span> <span class="nf">open_store_variable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">var</span><span class="p">):</span>

<span class="nn">~/opt/anaconda3/envs/icesat2_book/lib/python3.8/site-packages/xarray/backends/netCDF4_.py</span> in <span class="ni">_acquire</span><span class="nt">(self, needs_lock)</span>
<span class="g g-Whitespace">    </span><span class="mi">381</span> 
<span class="g g-Whitespace">    </span><span class="mi">382</span>     <span class="k">def</span> <span class="nf">_acquire</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">needs_lock</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="ne">--&gt; </span><span class="mi">383</span>         <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_manager</span><span class="o">.</span><span class="n">acquire_context</span><span class="p">(</span><span class="n">needs_lock</span><span class="p">)</span> <span class="k">as</span> <span class="n">root</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">384</span>             <span class="n">ds</span> <span class="o">=</span> <span class="n">_nc4_require_group</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_group</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">385</span>         <span class="k">return</span> <span class="n">ds</span>

<span class="nn">~/opt/anaconda3/envs/icesat2_book/lib/python3.8/contextlib.py</span> in <span class="ni">__enter__</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">111</span>         <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwds</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span>
<span class="g g-Whitespace">    </span><span class="mi">112</span>         <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">113</span>             <span class="k">return</span> <span class="nb">next</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gen</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">114</span>         <span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">115</span>             <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;generator didn&#39;t yield&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="bp">None</span>

<span class="nn">~/opt/anaconda3/envs/icesat2_book/lib/python3.8/site-packages/xarray/backends/file_manager.py</span> in <span class="ni">acquire_context</span><span class="nt">(self, needs_lock)</span>
<span class="g g-Whitespace">    </span><span class="mi">185</span>     <span class="k">def</span> <span class="nf">acquire_context</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">needs_lock</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">186</span>         <span class="sd">&quot;&quot;&quot;Context manager for acquiring a file.&quot;&quot;&quot;</span>
<span class="ne">--&gt; </span><span class="mi">187</span>         <span class="n">file</span><span class="p">,</span> <span class="n">cached</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_acquire_with_cache_info</span><span class="p">(</span><span class="n">needs_lock</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">188</span>         <span class="k">try</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">189</span>             <span class="k">yield</span> <span class="n">file</span>

<span class="nn">~/opt/anaconda3/envs/icesat2_book/lib/python3.8/site-packages/xarray/backends/file_manager.py</span> in <span class="ni">_acquire_with_cache_info</span><span class="nt">(self, needs_lock)</span>
<span class="g g-Whitespace">    </span><span class="mi">203</span>                     <span class="n">kwargs</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">204</span>                     <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;mode&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span>
<span class="ne">--&gt; </span><span class="mi">205</span>                 <span class="n">file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_opener</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">206</span>                 <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span> <span class="o">==</span> <span class="s2">&quot;w&quot;</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">207</span>                     <span class="c1"># ensure file doesn&#39;t get overriden when opened again</span>

<span class="nn">src/netCDF4/_netCDF4.pyx</span> in <span class="ni">netCDF4._netCDF4.Dataset.__init__</span><span class="nt">()</span>

<span class="nn">src/netCDF4/_netCDF4.pyx</span> in <span class="ni">netCDF4._netCDF4._ensure_nc_success</span><span class="nt">()</span>

<span class="ne">OSError</span>: [Errno -101] NetCDF: HDF error: b&#39;/Users/nicolekeeney/github_repos/icesat2-book-data/cdr/seaice_conc_monthly_nh_f17_201811_v03r01.nc&#39;
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="clean-data">
<h3>Clean data<a class="headerlink" href="#clean-data" title="Permalink to this headline">¶</a></h3>
<p>Clean data by removing flagged data and filling the pole hole. We assume concentration is 100% within the pole hole because we are only looking at winter data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#remove flagged data </span>
<span class="n">sic_monthly_cdr</span> <span class="o">=</span> <span class="n">sic</span><span class="p">[</span><span class="s1">&#39;seaice_conc_monthly_cdr&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">sic</span><span class="p">[</span><span class="s1">&#39;seaice_conc_monthly_cdr&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>

<span class="c1">#fill pole hole as 100% concentration</span>
<span class="n">sic_monthly_cdr</span> <span class="o">=</span> <span class="n">sic</span><span class="p">[</span><span class="s1">&#39;seaice_conc_monthly_cdr&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">sic</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">88</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1">#reassign variable</span>
<span class="n">sic</span> <span class="o">=</span> <span class="n">sic</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">seaice_conc_monthly_cdr</span> <span class="o">=</span> <span class="n">sic_monthly_cdr</span><span class="p">)</span>

<span class="c1">#reassign dimensions </span>
<span class="n">seaice_conc_monthly_cdr</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">DataArray</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">sic</span><span class="p">[</span><span class="s1">&#39;seaice_conc_monthly_cdr&#39;</span><span class="p">],</span> <span class="n">dims</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">coords</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="n">winters</span><span class="p">,</span> <span class="s1">&#39;latitude&#39;</span><span class="p">:</span> <span class="p">((</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">is2Lats</span><span class="p">),</span> <span class="s1">&#39;longitude&#39;</span><span class="p">:</span> <span class="p">((</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">is2Lons</span><span class="p">)})</span> 

<span class="c1">#attributes from entire NSIDC data to maintain</span>
<span class="n">desiredSICAttrs</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;references&#39;</span><span class="p">,</span> <span class="s1">&#39;contributor_name&#39;</span><span class="p">,</span> <span class="s1">&#39;license&#39;</span><span class="p">,</span> <span class="s1">&#39;summary&#39;</span><span class="p">]</span> <span class="c1">#attributes to maintain from entire sea ice concentration dataset</span>
<span class="n">SICDatasetAttrs</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span><span class="n">sic</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">desiredSICAttrs</span><span class="p">}</span>
<span class="n">seaice_conc_monthly_cdr</span> <span class="o">=</span> <span class="n">seaice_conc_monthly_cdr</span><span class="o">.</span><span class="n">assign_attrs</span><span class="p">(</span><span class="n">SICDatasetAttrs</span><span class="p">)</span>

<span class="c1">#add to is2 dataset </span>
<span class="n">is2</span><span class="p">[</span><span class="s1">&#39;seaice_conc_monthly_cdr&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">seaice_conc_monthly_cdr</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="nsidc-region-mask-for-the-arctic-data">
<h2>NSIDC region mask for the Arctic data<a class="headerlink" href="#nsidc-region-mask-for-the-arctic-data" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2">
<h3>Read data<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">getRegionMask</span><span class="p">(</span><span class="n">dataPath</span><span class="p">):</span> 
    <span class="sd">&quot;&quot;&quot;Gets NSIDC region mask for map projection</span>
<span class="sd">    </span>
<span class="sd">     Args:</span>
<span class="sd">         dataPath (str): path to NSIDC region mask</span>
<span class="sd">         </span>
<span class="sd">     Returns: </span>
<span class="sd">         shapedMask (numpy array): NSIDC arctic region mask gridded to shape [448, 304]</span>
<span class="sd">         shapedLons (numpy array): longitudes gridded to shape [448, 304]</span>
<span class="sd">         shapedLats (numpy array): latitudes gridded to shape [448, 304] </span>
<span class="sd">    &quot;&quot;&quot;</span> 
    <span class="n">gridShape</span> <span class="o">=</span> <span class="p">[</span><span class="mi">448</span><span class="p">,</span> <span class="mi">304</span><span class="p">]</span> <span class="c1">#shape of grid to reshape data to </span>
    
    <span class="n">regionMask</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">dataPath</span> <span class="o">+</span> <span class="s1">&#39;/sect_fixed_n.msk&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="c1">#open region mask </span>
    <span class="n">shapedMask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">fromfile</span><span class="p">(</span><span class="n">file</span> <span class="o">=</span> <span class="n">regionMask</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;uint8&#39;</span><span class="p">),</span> <span class="n">gridShape</span><span class="p">)</span> <span class="c1">#reshape mask to grid shape</span>
    
    <span class="n">maskLons</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">dataPath</span> <span class="o">+</span> <span class="s1">&#39;/psn25lons_v3.dat&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="c1">#open region mask longitudes</span>
    <span class="n">maskLats</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">dataPath</span> <span class="o">+</span> <span class="s1">&#39;/psn25lats_v3.dat&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="c1">#open region mask latitudes</span>
    <span class="n">shapedLons</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">fromfile</span><span class="p">(</span><span class="n">file</span> <span class="o">=</span> <span class="n">maskLons</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;&lt;i4&#39;</span><span class="p">)</span><span class="o">/</span><span class="mf">100000.</span><span class="p">,</span> <span class="n">gridShape</span><span class="p">)</span> <span class="c1">#reshape longitudes to grid shape</span>
    <span class="n">shapedLats</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">fromfile</span><span class="p">(</span><span class="n">file</span> <span class="o">=</span> <span class="n">maskLats</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;&lt;i4&#39;</span><span class="p">)</span><span class="o">/</span><span class="mf">100000.</span><span class="p">,</span> <span class="n">gridShape</span><span class="p">)</span> <span class="c1">#reshape latitudes to grid shape</span>

    <span class="k">return</span> <span class="n">shapedMask</span><span class="p">,</span> <span class="n">shapedLons</span><span class="p">,</span> <span class="n">shapedLats</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">regionMask</span><span class="p">,</span> <span class="n">maskLons</span><span class="p">,</span> <span class="n">maskLats</span> <span class="o">=</span> <span class="n">getRegionMask</span><span class="p">(</span><span class="n">regionMask_path</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="define-descriptive-information">
<h3>Define descriptive information<a class="headerlink" href="#define-descriptive-information" title="Permalink to this headline">¶</a></h3>
<p>These variables will be used later for creating the dataset.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#coords and attributes for Region Mask</span>
<span class="n">regionMaskCoords</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;region_mask&#39;</span><span class="p">:</span> <span class="p">((</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">regionMask</span><span class="p">)}</span>
<span class="n">regionMaskKeys</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">])</span>
<span class="n">regionMaskLabels</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;non-region oceans&#39;</span><span class="p">,</span> <span class="s1">&#39;Sea of Okhotsk and Japan&#39;</span><span class="p">,</span><span class="s1">&#39;Bering Sea&#39;</span><span class="p">,</span><span class="s1">&#39;Hudson Bay&#39;</span><span class="p">,</span><span class="s1">&#39;Gulf of St. Lawrence&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;Baffin Bay, Davis Strait &amp; Labrador Sea&#39;</span><span class="p">,</span><span class="s1">&#39;Greenland Sea&#39;</span><span class="p">,</span> <span class="s1">&#39;Barents Seas&#39;</span><span class="p">,</span><span class="s1">&#39;Kara Sea&#39;</span><span class="p">,</span><span class="s1">&#39;Laptev Sea&#39;</span><span class="p">,</span><span class="s1">&#39;East Siberian Sea&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;Chukchi Sea&#39;</span><span class="p">,</span><span class="s1">&#39;Beaufort Sea&#39;</span><span class="p">,</span><span class="s1">&#39;Canadian Archipelago&#39;</span><span class="p">,</span><span class="s1">&#39;Arctic Ocean&#39;</span><span class="p">,</span><span class="s1">&#39;Land&#39;</span><span class="p">,</span><span class="s1">&#39;Coast&#39;</span><span class="p">])</span>
<span class="n">regionMaskAttrs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;NSIDC region mask for the Arctic&#39;</span><span class="p">,</span> <span class="s1">&#39;keys&#39;</span><span class="p">:</span> <span class="n">regionMaskKeys</span><span class="p">,</span> <span class="s1">&#39;labels&#39;</span> <span class="p">:</span> <span class="n">regionMaskLabels</span><span class="p">,</span> <span class="s1">&#39;note&#39;</span><span class="p">:</span> <span class="s1">&#39;keys and labels ordered to match by index&#39;</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="era5-climate-reanalysis-data">
<h2>ERA5 climate reanalysis data<a class="headerlink" href="#era5-climate-reanalysis-data" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id3">
<h3>Read data<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ERA5</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">ERA5_path</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id4">
<h3>Clean data<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>Drop unneeded variables and converting temperature to Celcius</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#remove unneeded expver variable. </span>
<span class="c1">#for more info on the exper variable, see https://confluence.ecmwf.int/pages/viewpage.action?pageId=173385064</span>
<span class="n">ERA5</span> <span class="o">=</span> <span class="n">ERA5</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">expver</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">ERA5</span> <span class="o">=</span> <span class="n">ERA5</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;expver&#39;</span><span class="p">)</span>

<span class="c1">#select data from past two winters </span>
<span class="n">ERA5</span> <span class="o">=</span> <span class="n">ERA5</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">time</span> <span class="o">=</span> <span class="n">getWinterDateRange</span><span class="p">(</span><span class="mi">2018</span><span class="p">,</span> <span class="mi">2020</span><span class="p">))</span>
<span class="n">ERA5</span> <span class="o">=</span> <span class="n">ERA5</span><span class="o">.</span><span class="n">assign_coords</span><span class="p">(</span><span class="n">time</span> <span class="o">=</span> <span class="n">getWinterDateRange</span><span class="p">(</span><span class="mi">2018</span><span class="p">,</span> <span class="mi">2020</span><span class="p">))</span>

<span class="c1">#convert t2m temp to celcius </span>
<span class="n">tempCelcius</span> <span class="o">=</span> <span class="n">ERA5</span><span class="p">[</span><span class="s1">&#39;t2m&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="mf">283.15</span>
<span class="n">tempCelcius</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;units&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;C&#39;</span> <span class="c1">#change units attribute to C (Celcius)</span>
<span class="n">tempCelcius</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;long_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;2 meter temperature&#39;</span>
<span class="n">ERA5</span> <span class="o">=</span> <span class="n">ERA5</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">t2m</span> <span class="o">=</span> <span class="n">tempCelcius</span><span class="p">)</span> <span class="c1">#add to dataset as a new data variable</span>

<span class="c1">#add descriptive attributes </span>
<span class="n">ERA5</span><span class="o">.</span><span class="n">attrs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;era5 monthly averaged data on single levels from 1979 to present&#39;</span><span class="p">,</span> 
              <span class="s1">&#39;website&#39;</span><span class="p">:</span> <span class="s1">&#39;https://cds.climate.copernicus.eu/cdsapp#!/dataset/reanalysis-era5-single-levels-monthly-means?tab=overview&#39;</span><span class="p">,</span> 
              <span class="s1">&#39;contact&#39;</span><span class="p">:</span> <span class="s1">&#39;copernicus-support@ecmwf.int&#39;</span><span class="p">,</span>
             <span class="s1">&#39;citation&#39;</span><span class="p">:</span> <span class="s1">&#39;Copernicus Climate Change Service (C3S) (2017): ERA5: Fifth generation of ECMWF atmospheric reanalyses of the global climate . Copernicus Climate Change Service Climate Data Store (CDS), July 2020. https://cds.climate.copernicus.eu/cdsapp#!/home&#39;</span><span class="p">}</span>

<span class="c1">#restrict ERA5 data to the Arctic </span>
<span class="n">ERA5</span> <span class="o">=</span> <span class="n">ERA5</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ERA5</span><span class="o">.</span><span class="n">latitude</span> <span class="o">&gt;</span> <span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="piomas-sea-ice-thickness-data">
<h2>PIOMAS sea ice thickness data<a class="headerlink" href="#piomas-sea-ice-thickness-data" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id5">
<h3>Read data<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">getPIOMASData</span><span class="p">(</span><span class="n">dataPath</span><span class="p">,</span> <span class="n">startYear</span> <span class="o">=</span> <span class="mi">1978</span><span class="p">,</span> <span class="n">endYear</span> <span class="o">=</span> <span class="mi">2020</span><span class="p">):</span> 
    <span class="sd">&quot;&quot;&quot;Gets PIOMAS mean monthly sea ice thickness data for an input time range. </span>
<span class="sd">    </span>
<span class="sd">    Args: </span>
<span class="sd">        dataPath (str): path to local directory of PIOMAS data </span>
<span class="sd">        startYear (int): year to start loading data from (defaul to 1978)</span>
<span class="sd">        endYear (int): year to stop loading data from (default to 2020)</span>
<span class="sd">    </span>
<span class="sd">    Returns: </span>
<span class="sd">        PIOMAS_data (xarray DataArray): PIOMAS data with descriptive coordinates and attributes</span>
<span class="sd">        </span>
<span class="sd">    Note: last available PIOMAS data was from July 2020 at the time of creation of this function</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">dataList</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1">#empty list for compiling data</span>

    <span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">startYear</span><span class="p">,</span> <span class="n">endYear</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>     
        <span class="n">data</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">dataPath</span> <span class="o">+</span> <span class="s1">&#39;heff.H&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">year</span><span class="p">),</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> 
        <span class="k">if</span> <span class="n">year</span> <span class="o">==</span> <span class="mi">2020</span><span class="p">:</span> <span class="c1">#need special reshaping for 2020 because we dont have a full year of data</span>
            <span class="n">period</span> <span class="o">=</span> <span class="mi">7</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">period</span> <span class="o">=</span> <span class="mi">12</span>
        <span class="n">dataList</span> <span class="o">+=</span> <span class="nb">list</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">fromfile</span><span class="p">(</span><span class="n">file</span> <span class="o">=</span> <span class="n">data</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;f&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">([</span><span class="n">period</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">360</span><span class="p">]))</span>
    
    <span class="c1">#add latitude and longitude </span>
    <span class="n">gridP</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="n">dataPath</span> <span class="o">+</span> <span class="s1">&#39;grid.dat.txt&#39;</span><span class="p">)</span>
    <span class="n">lonsP</span> <span class="o">=</span> <span class="n">gridP</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">4320</span><span class="p">,</span> <span class="p">:]</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="n">lonsP</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">lonsP</span><span class="p">,</span> <span class="p">[</span><span class="mi">120</span><span class="p">,</span><span class="mi">360</span><span class="p">])</span>
    <span class="n">latsP</span> <span class="o">=</span> <span class="n">gridP</span><span class="p">[</span><span class="mi">4320</span><span class="p">:,</span> <span class="p">:]</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="n">latsP</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">latsP</span><span class="p">,</span> <span class="p">[</span><span class="mi">120</span><span class="p">,</span><span class="mi">360</span><span class="p">])</span>
    
    <span class="c1">#load dataList as an xarray DataArray with descriptive attributes and coordinates</span>
    <span class="n">time</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">start</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">startYear</span><span class="p">),</span> <span class="n">end</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">endYear</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;-07&#39;</span><span class="p">,</span> <span class="n">freq</span> <span class="o">=</span> <span class="s1">&#39;MS&#39;</span><span class="p">)</span>
    <span class="n">PIOMAS_attrs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;meters&#39;</span><span class="p">,</span> <span class="s1">&#39;long_name&#39;</span><span class="p">:</span> <span class="s1">&#39;PIOMAS sea ice thickness&#39;</span><span class="p">,</span> <span class="s1">&#39;data description&#39;</span><span class="p">:</span> <span class="s1">&#39;PIOMAS monthly mean sea ice thickness&#39;</span><span class="p">,</span> <span class="s1">&#39;citation&#39;</span><span class="p">:</span> <span class="s1">&#39;Zhang, J.L. and D.A. Rothrock, “Modeling global sea ice with a thickness and enthalpy distribution model in generalized curvilinear coordinates“, Mon. Weather Rev., 131, 845-861, 2003&#39;</span><span class="p">}</span>
    <span class="n">PIOMAS_data</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">DataArray</span><span class="p">(</span><span class="n">dataList</span><span class="p">,</span> <span class="n">dims</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">coords</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="n">time</span><span class="p">,</span> <span class="s1">&#39;longitude&#39;</span><span class="p">:</span> <span class="p">((</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">lonsP</span><span class="p">),</span> <span class="s1">&#39;latitude&#39;</span><span class="p">:</span> <span class="p">((</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">latsP</span><span class="p">)},</span> <span class="n">attrs</span> <span class="o">=</span> <span class="n">PIOMAS_attrs</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">PIOMAS_data</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">piomasData</span> <span class="o">=</span> <span class="n">getPIOMASData</span><span class="p">(</span><span class="n">PIOMAS_path</span><span class="p">,</span> <span class="n">startYear</span> <span class="o">=</span> <span class="mi">2018</span><span class="p">,</span> <span class="n">endYear</span> <span class="o">=</span> <span class="mi">2020</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">piomasData</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray (time: 31, y: 120, x: 360)&gt;
array([[[0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        ...,
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.]],

       [[0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        ...,
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.]],

       [[0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        ...,
...
        ...,
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.]],

       [[0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        ...,
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.]],

       [[0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        ...,
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.]]], dtype=float32)
Coordinates:
  * time       (time) datetime64[ns] 2018-01-01 2018-02-01 ... 2020-07-01
    longitude  (y, x) float64 319.5 320.5 321.5 322.5 ... 317.9 318.4 318.8
    latitude   (y, x) float64 48.99 48.99 48.99 48.99 ... 72.71 72.71 72.71
Dimensions without coordinates: y, x
Attributes:
    units:             meters
    long_name:         PIOMAS sea ice thickness
    data description:  PIOMAS monthly mean sea ice thickness
    citation:          Zhang, J.L. and D.A. Rothrock, “Modeling global sea ic...</pre><div class='xr-wrap' hidden><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'></div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 31</li><li><span>y</span>: 120</li><li><span>x</span>: 360</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-6747d128-ba20-43ad-ba12-90449cd4dde4' class='xr-array-in' type='checkbox' checked><label for='section-6747d128-ba20-43ad-ba12-90449cd4dde4' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 ... 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0</span></div><div class='xr-array-data'><pre>array([[[0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        ...,
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.]],

       [[0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        ...,
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.]],

       [[0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        ...,
...
        ...,
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.]],

       [[0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        ...,
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.]],

       [[0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        ...,
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.],
        [0., 0., 0., ..., 0., 0., 0.]]], dtype=float32)</pre></div></div></li><li class='xr-section-item'><input id='section-0adbe68d-091f-4cf9-b9dd-6eaafc1e3afc' class='xr-section-summary-in' type='checkbox'  checked><label for='section-0adbe68d-091f-4cf9-b9dd-6eaafc1e3afc' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2018-01-01 ... 2020-07-01</div><input id='attrs-d9fbf15c-edbe-46c1-93e5-f36a49f442f1' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-d9fbf15c-edbe-46c1-93e5-f36a49f442f1' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c6c22624-3d70-4883-a018-7f00a0db8241' class='xr-var-data-in' type='checkbox'><label for='data-c6c22624-3d70-4883-a018-7f00a0db8241' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;2018-01-01T00:00:00.000000000&#x27;, &#x27;2018-02-01T00:00:00.000000000&#x27;,
       &#x27;2018-03-01T00:00:00.000000000&#x27;, &#x27;2018-04-01T00:00:00.000000000&#x27;,
       &#x27;2018-05-01T00:00:00.000000000&#x27;, &#x27;2018-06-01T00:00:00.000000000&#x27;,
       &#x27;2018-07-01T00:00:00.000000000&#x27;, &#x27;2018-08-01T00:00:00.000000000&#x27;,
       &#x27;2018-09-01T00:00:00.000000000&#x27;, &#x27;2018-10-01T00:00:00.000000000&#x27;,
       &#x27;2018-11-01T00:00:00.000000000&#x27;, &#x27;2018-12-01T00:00:00.000000000&#x27;,
       &#x27;2019-01-01T00:00:00.000000000&#x27;, &#x27;2019-02-01T00:00:00.000000000&#x27;,
       &#x27;2019-03-01T00:00:00.000000000&#x27;, &#x27;2019-04-01T00:00:00.000000000&#x27;,
       &#x27;2019-05-01T00:00:00.000000000&#x27;, &#x27;2019-06-01T00:00:00.000000000&#x27;,
       &#x27;2019-07-01T00:00:00.000000000&#x27;, &#x27;2019-08-01T00:00:00.000000000&#x27;,
       &#x27;2019-09-01T00:00:00.000000000&#x27;, &#x27;2019-10-01T00:00:00.000000000&#x27;,
       &#x27;2019-11-01T00:00:00.000000000&#x27;, &#x27;2019-12-01T00:00:00.000000000&#x27;,
       &#x27;2020-01-01T00:00:00.000000000&#x27;, &#x27;2020-02-01T00:00:00.000000000&#x27;,
       &#x27;2020-03-01T00:00:00.000000000&#x27;, &#x27;2020-04-01T00:00:00.000000000&#x27;,
       &#x27;2020-05-01T00:00:00.000000000&#x27;, &#x27;2020-06-01T00:00:00.000000000&#x27;,
       &#x27;2020-07-01T00:00:00.000000000&#x27;], dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>longitude</span></div><div class='xr-var-dims'>(y, x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>319.5 320.5 321.5 ... 318.4 318.8</div><input id='attrs-7f47c795-5a61-4315-b56d-2cfa1f824e0b' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-7f47c795-5a61-4315-b56d-2cfa1f824e0b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-5296a3c2-7e9c-47d4-a4bc-9167c96782a2' class='xr-var-data-in' type='checkbox'><label for='data-5296a3c2-7e9c-47d4-a4bc-9167c96782a2' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[319.5 , 320.5 , 321.5 , ..., 316.5 , 317.5 , 318.5 ],
       [319.5 , 320.5 , 321.5 , ..., 316.5 , 317.5 , 318.5 ],
       [319.5 , 320.5 , 321.5 , ..., 316.5 , 317.5 , 318.5 ],
       ...,
       [319.23, 319.67, 320.12, ..., 317.88, 318.33, 318.77],
       [319.22, 319.66, 320.09, ..., 317.91, 318.34, 318.78],
       [319.21, 319.64, 320.06, ..., 317.94, 318.36, 318.79]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>latitude</span></div><div class='xr-var-dims'>(y, x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>48.99 48.99 48.99 ... 72.71 72.71</div><input id='attrs-df361b8d-9fa1-4429-a67a-c8eebb495f59' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-df361b8d-9fa1-4429-a67a-c8eebb495f59' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8a1c4bc3-db88-48b2-911c-f7e97c49593d' class='xr-var-data-in' type='checkbox'><label for='data-8a1c4bc3-db88-48b2-911c-f7e97c49593d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[48.99, 48.99, 48.99, ..., 48.99, 48.99, 48.99],
       [49.59, 49.59, 49.59, ..., 49.59, 49.59, 49.59],
       [50.15, 50.15, 50.15, ..., 50.15, 50.15, 50.15],
       ...,
       [72.44, 72.44, 72.44, ..., 72.44, 72.44, 72.44],
       [72.57, 72.57, 72.58, ..., 72.58, 72.57, 72.57],
       [72.71, 72.71, 72.71, ..., 72.71, 72.71, 72.71]])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-d67e9831-974c-4bc6-a4c5-f3d62a97f53a' class='xr-section-summary-in' type='checkbox'  checked><label for='section-d67e9831-974c-4bc6-a4c5-f3d62a97f53a' class='xr-section-summary' >Attributes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>meters</dd><dt><span>long_name :</span></dt><dd>PIOMAS sea ice thickness</dd><dt><span>data description :</span></dt><dd>PIOMAS monthly mean sea ice thickness</dd><dt><span>citation :</span></dt><dd>Zhang, J.L. and D.A. Rothrock, “Modeling global sea ice with a thickness and enthalpy distribution model in generalized curvilinear coordinates“, Mon. Weather Rev., 131, 845-861, 2003</dd></dl></div></li></ul></div></div></div></div>
</div>
</div>
</div>
<div class="section" id="nsidc-sea-ice-drift-data">
<h2>NSIDC sea ice drift data<a class="headerlink" href="#nsidc-sea-ice-drift-data" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id6">
<h3>Read data<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">getDriftData</span><span class="p">(</span><span class="n">dataPath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Gets weekly NSIDC sea ice drift data for the Arctic, resamples monthly, and returns a dataset</span>
<span class="sd">    </span>
<span class="sd">    Args: </span>
<span class="sd">        dataPath (str): path to local directory of weekly drift data </span>

<span class="sd">    Returns: </span>
<span class="sd">        monthlyDrifts (xarray DataArray): sea ice drift data, resampled to monthly means, with descriptive coordinates and attributes</span>
<span class="sd">        </span>
<span class="sd">    Note: This function uses two different datasets from the NSIDC for drift in order to get the most recent data. Drift dataset from 1978-2018 was combined with quicklook drift dataset from 2019-present, maintaining attitributes of the 1978-2018 dataset</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">get_uv_from_xy</span><span class="p">(</span><span class="n">xdrift</span><span class="p">,</span> <span class="n">ydrift</span><span class="p">,</span> <span class="n">lon</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;convert the drift vectors to zonal/meridional, and calculate magnitude</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">alpha</span> <span class="o">=</span> <span class="n">lon</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mf">180.</span> <span class="c1">#convert longitudes to radians </span>
        <span class="n">uvelT</span> <span class="o">=</span> <span class="n">ydrift</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">alpha</span><span class="p">)</span> <span class="o">+</span> <span class="n">xdrift</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">alpha</span><span class="p">)</span>
        <span class="n">vvelT</span> <span class="o">=</span> <span class="n">ydrift</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">alpha</span><span class="p">)</span> <span class="o">-</span> <span class="n">xdrift</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">alpha</span><span class="p">)</span>
        <span class="n">vectorMag</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">uvelT</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">vvelT</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">uvelT</span><span class="p">,</span> <span class="n">vvelT</span><span class="p">,</span> <span class="n">vectorMag</span>
    
    <span class="c1">#combine nc weekly files into a single xarray dataset</span>
    <span class="n">files</span> <span class="o">=</span> <span class="p">[</span><span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">dataPath</span> <span class="o">+</span> <span class="n">f</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">dataPath</span><span class="p">)</span> <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">dataPath</span> <span class="o">+</span> <span class="n">f</span><span class="p">)</span> <span class="ow">and</span> <span class="n">f</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.nc&#39;</span><span class="p">)]</span>
    <span class="n">weeklyDrifts</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">files</span><span class="p">,</span> <span class="n">dim</span> <span class="o">=</span> <span class="s1">&#39;time&#39;</span><span class="p">)</span>

    <span class="c1">#get transformed u,v variables and add to dataset</span>
    <span class="n">uvelT</span><span class="p">,</span> <span class="n">vvelT</span><span class="p">,</span> <span class="n">vectorMag</span> <span class="o">=</span> <span class="n">get_uv_from_xy</span><span class="p">(</span><span class="n">weeklyDrifts</span><span class="o">.</span><span class="n">u</span><span class="p">,</span> <span class="n">weeklyDrifts</span><span class="o">.</span><span class="n">v</span><span class="p">,</span> <span class="n">weeklyDrifts</span><span class="o">.</span><span class="n">longitude</span><span class="p">)</span>
    <span class="n">weeklyDrifts</span> <span class="o">=</span> <span class="n">weeklyDrifts</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">drifts_uT</span> <span class="o">=</span> <span class="n">uvelT</span><span class="p">,</span> <span class="n">drifts_vT</span> <span class="o">=</span> <span class="n">vvelT</span><span class="p">,</span> <span class="n">drifts_magnitude</span> <span class="o">=</span> <span class="n">vectorMag</span><span class="p">)</span>
    
    <span class="c1">#resample to get monthly data </span>
    <span class="n">monthlyDrifts</span> <span class="o">=</span> <span class="n">weeklyDrifts</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="s1">&#39;MS&#39;</span><span class="p">,</span> <span class="n">keep_attrs</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

    <span class="c1">#convert to same time format as ICESat-2 </span>
    <span class="n">monthlyDrifts</span> <span class="o">=</span> <span class="n">monthlyDrifts</span><span class="o">.</span><span class="n">assign_coords</span><span class="p">(</span><span class="n">time</span> <span class="o">=</span> <span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">date</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%m-</span><span class="si">%d</span><span class="s1">-%Y&#39;</span><span class="p">))</span> <span class="k">for</span> <span class="n">date</span> <span class="ow">in</span> <span class="n">monthlyDrifts</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">values</span><span class="p">])</span>
    
    <span class="c1">#add attributes</span>
    <span class="n">monthlyDrifts</span><span class="o">.</span><span class="n">drifts_uT</span><span class="o">.</span><span class="n">attrs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;description&#39;</span><span class="p">:</span><span class="s1">&#39;along-x component of the ice motion (u variable) converted to zonal/meridional&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span><span class="s1">&#39;cm/s&#39;</span><span class="p">,</span> <span class="s1">&#39;long_name&#39;</span><span class="p">:</span><span class="s1">&#39;sea ice x velocity&#39;</span><span class="p">}</span>
    <span class="n">monthlyDrifts</span><span class="o">.</span><span class="n">drifts_vT</span><span class="o">.</span><span class="n">attrs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;description&#39;</span><span class="p">:</span><span class="s1">&#39;along-y component of the ice motion (v variable) converted to zonal/meridional&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span><span class="s1">&#39;cm/s&#39;</span><span class="p">,</span> <span class="s1">&#39;long_name&#39;</span><span class="p">:</span><span class="s1">&#39;sea ice y velocity&#39;</span><span class="p">}</span>
    <span class="n">monthlyDrifts</span><span class="o">.</span><span class="n">drifts_magnitude</span><span class="o">.</span><span class="n">attrs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;long_name&#39;</span><span class="p">:</span> <span class="s1">&#39;drift vector magnitude&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span><span class="s1">&#39;cm/s&#39;</span><span class="p">}</span>
    <span class="n">monthlyDrifts</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;njkeeney comment&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;drift dataset from 1978-2018 was combined with quicklook drift dataset from 2019-present, maintaining attitributes of the 1978-2018 dataset&#39;</span>
    <span class="n">monthlyDrifts</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;citation&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Tschudi, M., W. N. Meier, J. S. Stewart, C. Fowler, and J. Maslanik. 2019. Polar Pathfinder Daily 25 km EASE-Grid Sea Ice Motion Vectors, Version 4. Weekly sea ice motion. Boulder, Colorado USA. NASA National Snow and Ice Data Center Distributed Active Archive Center. doi: https://doi.org/10.5067/INAWUWO7QH7B. July 2020.&#39;</span>
    <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">monthlyDrifts</span><span class="o">.</span><span class="n">data_vars</span><span class="p">:</span> 
        <span class="k">if</span> <span class="n">var</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;drifts_magnitude&#39;</span><span class="p">,</span><span class="s1">&#39;drifts_uT&#39;</span><span class="p">,</span> <span class="s1">&#39;drifts_vT&#39;</span><span class="p">]:</span> 
            <span class="n">monthlyDrifts</span><span class="p">[</span><span class="n">var</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span> <span class="o">=</span> <span class="n">weeklyDrifts</span><span class="p">[</span><span class="n">var</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span> <span class="c1">#resampling function causes attributes to be lost, so add them back here</span>
    
    <span class="k">return</span> <span class="n">monthlyDrifts</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">drifts</span> <span class="o">=</span> <span class="n">getDriftData</span><span class="p">(</span><span class="n">drift_path</span><span class="p">)</span>   <span class="c1"># Read data</span>
<span class="n">drifts</span> <span class="o">=</span> <span class="n">drifts</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">time</span> <span class="o">=</span> <span class="n">winters</span><span class="p">)</span> <span class="c1"># Restrict data to winter months</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="id7">
<h1>Interpolate missing ICESat-2 data<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h1>
<p>Interpolate missing ICESat-2 data using the <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.griddata.html">scipy.griddata.interpolate</a> function and add as data variables to the dataset. Because ICESat-2 doesn’t provide full monthly coverage, interpolating fills missing grid cells with a best guess based on surrounding data. This helps avoid sampling biases when performing time series analyses, with the cavaet that this interpolation method is subjective.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#list of variables to interpolate</span>
<span class="n">IS2VarList</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ice_type&#39;</span><span class="p">,</span><span class="s1">&#39;ice_thickness&#39;</span><span class="p">,</span><span class="s1">&#39;snow_depth&#39;</span><span class="p">,</span><span class="s1">&#39;freeboard&#39;</span><span class="p">,</span><span class="s1">&#39;ice_thickness_unc&#39;</span><span class="p">,</span><span class="s1">&#39;snow_density&#39;</span><span class="p">,</span><span class="s1">&#39;ice_density&#39;</span><span class="p">]</span>

<span class="c1">#go through variables in list and add as new data variables to ICESat-2 dataset</span>
<span class="k">for</span> <span class="n">varStr</span> <span class="ow">in</span> <span class="n">IS2VarList</span><span class="p">:</span>
    
    <span class="c1">#empty list to store monthly interpolated data </span>
    <span class="n">varFilled</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">for</span> <span class="n">month</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">is2</span><span class="o">.</span><span class="n">time</span><span class="p">)):</span> 
        <span class="c1">#current month of data </span>
        <span class="n">monthlyVar</span> <span class="o">=</span> <span class="n">is2</span><span class="p">[</span><span class="n">varStr</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="n">month</span><span class="p">]</span>
        
        <span class="c1">#additional condition for interpolating ice thickness</span>
        <span class="k">if</span> <span class="n">varStr</span> <span class="o">==</span> <span class="s1">&#39;ice_thickness&#39;</span><span class="p">:</span> 
            <span class="c1">#if var is ice_thickness_int, set ice_thickness to zero if ice_thickness is NaN and sea ice concentration &lt; 15%</span>
            <span class="n">monthlyVar</span><span class="p">[</span><span class="n">seaice_conc_monthly_cdr</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="n">month</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mf">0.15</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        
        <span class="c1">#conditions for cells to interpolate</span>
        <span class="n">monthlyVar</span> <span class="o">=</span> <span class="n">ma</span><span class="o">.</span><span class="n">masked_where</span><span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">monthlyVar</span><span class="p">))</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">regionMask</span> <span class="o">!=</span> <span class="mi">20</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">regionMask</span> <span class="o">!=</span> <span class="mi">14</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">seaice_conc_monthly_cdr</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="n">month</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">0.15</span><span class="p">),</span> <span class="n">monthlyVar</span><span class="p">)</span>
        
        <span class="c1">#append interpolated data to list </span>
        <span class="n">varFilled</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">interpolate</span><span class="o">.</span><span class="n">griddata</span><span class="p">((</span><span class="n">is2Lons</span><span class="p">[</span><span class="o">~</span><span class="n">monthlyVar</span><span class="o">.</span><span class="n">mask</span><span class="p">],</span> <span class="n">is2Lats</span><span class="p">[</span><span class="o">~</span><span class="n">monthlyVar</span><span class="o">.</span><span class="n">mask</span><span class="p">]),</span> 
                    <span class="n">monthlyVar</span><span class="p">[</span><span class="o">~</span><span class="n">monthlyVar</span><span class="o">.</span><span class="n">mask</span><span class="p">]</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),(</span><span class="n">is2Lons</span><span class="p">,</span> <span class="n">is2Lats</span><span class="p">),</span> <span class="n">method</span> <span class="o">=</span> <span class="s1">&#39;nearest&#39;</span><span class="p">))</span>
    
    <span class="c1">#convert varFilled to a DataArray object </span>
    <span class="n">varFilledDataArray</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">DataArray</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">varFilled</span><span class="p">,</span> <span class="n">dims</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">attrs</span> <span class="o">=</span> <span class="n">is2</span><span class="p">[</span><span class="n">varStr</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span><span class="p">)</span>
    <span class="n">varFilledDataArray</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;note&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;interpolated from original data&#39;</span>
    
    <span class="c1">#add as new data variable to ICESat-2 dataset</span>
    <span class="n">is2</span><span class="p">[</span><span class="n">varStr</span> <span class="o">+</span> <span class="s1">&#39;_filled&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">varFilledDataArray</span>

<span class="c1">#Add descriptive attributes &amp; coordinates to all ICESat-2 variables    </span>
<span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">is2</span><span class="o">.</span><span class="n">data_vars</span><span class="p">:</span>
    <span class="n">is2</span><span class="p">[</span><span class="n">var</span><span class="p">]</span> <span class="o">=</span> <span class="n">is2</span><span class="p">[</span><span class="n">var</span><span class="p">]</span><span class="o">.</span><span class="n">assign_attrs</span><span class="p">(</span><span class="n">is2</span><span class="o">.</span><span class="n">attrs</span><span class="p">)</span>

<span class="c1">#drop lat and lon as data variables and add as coordinate values </span>
<span class="n">is2</span> <span class="o">=</span> <span class="n">is2</span><span class="o">.</span><span class="n">assign_coords</span><span class="p">(</span><span class="n">coords</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;latitude&#39;</span><span class="p">:</span> <span class="p">((</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">is2Lats</span><span class="p">),</span> <span class="s1">&#39;longitude&#39;</span><span class="p">:</span> <span class="p">((</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">is2Lons</span><span class="p">)})</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="regrid-all-datasets-to-icesat-2-grid">
<h1>Regrid all datasets to ICESat-2 grid<a class="headerlink" href="#regrid-all-datasets-to-icesat-2-grid" title="Permalink to this headline">¶</a></h1>
<p>In order to merge ERA5 and PIOMAS data to the same dataset as ICESat-2, it needs to be on the same grid.</p>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#used in code development, bar hidden in notebook outputs </span>
<span class="k">def</span> <span class="nf">progressBar</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">tot</span><span class="p">):</span> 
    <span class="sd">&quot;&quot;&quot;Display a progress bar inside a for loop </span>
<span class="sd">    Args: </span>
<span class="sd">        i (int): iteration number</span>
<span class="sd">        tot (int): total number of iterations</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">j</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="n">tot</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\r</span><span class="s1"> [</span><span class="si">%-20s</span><span class="s1">] </span><span class="si">%d%%</span><span class="s1"> complete&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="o">*</span><span class="nb">int</span><span class="p">(</span><span class="mi">20</span><span class="o">*</span><span class="n">j</span><span class="p">),</span> <span class="mi">100</span><span class="o">*</span><span class="n">j</span><span class="p">))</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">regridToICESat2</span><span class="p">(</span><span class="n">dataArrayNEW</span><span class="p">,</span> <span class="n">xptsNEW</span><span class="p">,</span> <span class="n">yptsNEW</span><span class="p">,</span> <span class="n">xptsIS2</span><span class="p">,</span> <span class="n">yptsIS2</span><span class="p">):</span>  
    <span class="sd">&quot;&quot;&quot; Regrid new data to ICESat-2 grid </span>
<span class="sd">    </span>
<span class="sd">    Args: </span>
<span class="sd">        dataArrayNEW (xarray DataArray): DataArray to be gridded to ICESat-2 grid </span>
<span class="sd">        xptsNEW (numpy array): x-values of dataArrayNEW projected to ICESat-2 map projection </span>
<span class="sd">        yptsNEW (numpy array): y-values of dataArrayNEW projected to ICESat-2 map projection </span>
<span class="sd">        xptsIS2 (numpy array): ICESat-2 longitude projected to ICESat-2 map projection</span>
<span class="sd">        yptsIS2 (numpy array): ICESat-2 latitude projected to ICESat-2 map projection</span>
<span class="sd">    </span>
<span class="sd">    Returns: </span>
<span class="sd">        gridded (numpy array): data regridded to ICESat-2 map projection</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">gridded</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">dataArrayNEW</span><span class="o">.</span><span class="n">values</span><span class="p">)):</span> 
        <span class="n">monthlyGridded</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">interpolate</span><span class="o">.</span><span class="n">griddata</span><span class="p">((</span><span class="n">xptsNEW</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span><span class="n">yptsNEW</span><span class="o">.</span><span class="n">flatten</span><span class="p">()),</span> <span class="n">dataArrayNEW</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span> <span class="p">(</span><span class="n">xptsIS2</span><span class="p">,</span> <span class="n">yptsIS2</span><span class="p">),</span> <span class="n">method</span> <span class="o">=</span> <span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
        <span class="n">gridded</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">monthlyGridded</span><span class="p">)</span>
        <span class="n">progressBar</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">dataArrayNEW</span><span class="o">.</span><span class="n">values</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">gridded</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="regrid-era5-data">
<h2>Regrid ERA5 data<a class="headerlink" href="#regrid-era5-data" title="Permalink to this headline">¶</a></h2>
<p>Here, we select a few variables of interest from the ERA5 dataset, regrid them to the ICESat-2 grid, and add them as data variables to the ICESat-2 dataset</p>
<div class="cell tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Choose data variables of interest </span>
<span class="n">ERA5Vars</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;t2m&#39;</span><span class="p">,</span><span class="s1">&#39;msdwlwrf&#39;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Variables to include: &#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="p">[</span><span class="n">ERA5</span><span class="p">[</span><span class="n">var</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;long_name&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">ERA5Vars</span><span class="p">])))</span>

<span class="c1">#map projection from ICESat-2 data (can be viewed in is2.projection.attrs[&#39;srid&#39;])</span>
<span class="n">IS2_proj</span> <span class="o">=</span> <span class="s1">&#39;EPSG:3411&#39;</span>

<span class="c1">#initialize map projection and project data to it</span>
<span class="n">mapProj</span> <span class="o">=</span> <span class="n">pyproj</span><span class="o">.</span><span class="n">Proj</span><span class="p">(</span><span class="s2">&quot;+init=&quot;</span> <span class="o">+</span> <span class="n">IS2_proj</span><span class="p">)</span>
<span class="n">xptsERA</span><span class="p">,</span> <span class="n">yptsERA</span> <span class="o">=</span> <span class="n">mapProj</span><span class="p">(</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">ERA5</span><span class="o">.</span><span class="n">longitude</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">ERA5</span><span class="o">.</span><span class="n">latitude</span><span class="o">.</span><span class="n">values</span><span class="p">))</span>
<span class="n">xptsIS2</span><span class="p">,</span> <span class="n">yptsIS2</span> <span class="o">=</span> <span class="n">mapProj</span><span class="p">(</span><span class="n">is2Lons</span><span class="p">,</span> <span class="n">is2Lats</span><span class="p">)</span>

<span class="c1">#grid data</span>
<span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">ERA5Vars</span><span class="p">:</span> 
    <span class="c1">#regrid data by calling function</span>
    <span class="n">ERA5gridded</span> <span class="o">=</span> <span class="n">regridToICESat2</span><span class="p">(</span><span class="n">ERA5</span><span class="p">[</span><span class="n">var</span><span class="p">],</span> <span class="n">xptsERA</span><span class="p">,</span> <span class="n">yptsERA</span><span class="p">,</span> <span class="n">xptsIS2</span><span class="p">,</span> <span class="n">yptsIS2</span><span class="p">)</span>
    
    <span class="c1">#create xarray DataArray object with descriptive coordinates </span>
    <span class="n">ERAArray</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">DataArray</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">ERA5gridded</span><span class="p">,</span> <span class="n">dims</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">coords</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;latitude&#39;</span><span class="p">:</span> <span class="p">((</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">is2Lats</span><span class="p">),</span> <span class="s1">&#39;longitude&#39;</span><span class="p">:</span> <span class="p">((</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">is2Lons</span><span class="p">)})</span>
    <span class="n">ERAArray</span><span class="o">.</span><span class="n">attrs</span> <span class="o">=</span> <span class="n">ERA5</span><span class="p">[</span><span class="n">var</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span>
    <span class="n">ERAArray</span> <span class="o">=</span> <span class="n">ERAArray</span><span class="o">.</span><span class="n">assign_attrs</span><span class="p">(</span><span class="n">ERA5</span><span class="o">.</span><span class="n">attrs</span><span class="p">)</span>

    <span class="c1">#add to ICESat-2 dataset</span>
    <span class="n">is2</span><span class="p">[</span><span class="n">var</span><span class="p">]</span> <span class="o">=</span> <span class="n">ERAArray</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="regrid-piomas-data">
<h2>Regrid PIOMAS data<a class="headerlink" href="#regrid-piomas-data" title="Permalink to this headline">¶</a></h2>
<div class="cell tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#project data to ICESat-2 map projection</span>
<span class="n">xptsPIO</span><span class="p">,</span> <span class="n">yptsPIO</span> <span class="o">=</span> <span class="n">mapProj</span><span class="p">(</span><span class="n">piomasData</span><span class="o">.</span><span class="n">longitude</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">piomasData</span><span class="o">.</span><span class="n">latitude</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>

<span class="c1">#regrid data by calling function</span>
<span class="n">PIOgridded</span> <span class="o">=</span> <span class="n">regridToICESat2</span><span class="p">(</span><span class="n">piomasData</span><span class="p">,</span> <span class="n">xptsPIO</span><span class="p">,</span> <span class="n">yptsPIO</span><span class="p">,</span> <span class="n">xptsIS2</span><span class="p">,</span> <span class="n">yptsIS2</span><span class="p">)</span>

<span class="c1">#create xarray DataArray object with descriptive coordinates </span>
<span class="n">PIOArray</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">DataArray</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">PIOgridded</span><span class="p">,</span> <span class="n">dims</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">coords</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;latitude&#39;</span><span class="p">:</span> <span class="p">((</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">is2Lats</span><span class="p">),</span> <span class="s1">&#39;longitude&#39;</span><span class="p">:</span> <span class="p">((</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">is2Lons</span><span class="p">)})</span>
<span class="n">PIOArray</span> <span class="o">=</span> <span class="n">PIOArray</span><span class="o">.</span><span class="n">assign_coords</span><span class="p">(</span><span class="n">time</span> <span class="o">=</span> <span class="n">piomasData</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="n">PIOArray</span> <span class="o">=</span> <span class="n">PIOArray</span><span class="o">.</span><span class="n">assign_attrs</span><span class="p">(</span><span class="n">piomasData</span><span class="o">.</span><span class="n">attrs</span><span class="p">)</span>

<span class="c1">#restrict data to same time period as ICESat-2</span>
<span class="n">PIOArray_winter</span> <span class="o">=</span> <span class="n">PIOArray</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">time</span> <span class="o">=</span> <span class="n">winters</span><span class="p">)</span>

<span class="c1">#add to ICESat-2 dataset</span>
<span class="n">is2</span><span class="p">[</span><span class="s1">&#39;PIOMAS_ice_thickness&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">PIOArray_winter</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="regrid-nsidc-sea-ice-drift-data">
<h2>Regrid NSIDC sea ice drift data<a class="headerlink" href="#regrid-nsidc-sea-ice-drift-data" title="Permalink to this headline">¶</a></h2>
<div class="cell tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#project data to ICESat-2 map projection</span>
<span class="n">xptsDRIFTS</span><span class="p">,</span> <span class="n">yptsDRIFTS</span> <span class="o">=</span> <span class="n">mapProj</span><span class="p">(</span><span class="n">drifts</span><span class="o">.</span><span class="n">longitude</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">drifts</span><span class="o">.</span><span class="n">latitude</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;drifts_uT&#39;</span><span class="p">,</span> <span class="s1">&#39;drifts_vT&#39;</span><span class="p">,</span> <span class="s1">&#39;drifts_magnitude&#39;</span><span class="p">]:</span> 
    <span class="c1">#regrid data by calling function</span>
    <span class="n">driftsGridded</span> <span class="o">=</span> <span class="n">regridToICESat2</span><span class="p">(</span><span class="n">drifts</span><span class="p">[</span><span class="n">var</span><span class="p">],</span> <span class="n">xptsDRIFTS</span><span class="p">,</span> <span class="n">yptsDRIFTS</span><span class="p">,</span> <span class="n">xptsIS2</span><span class="p">,</span> <span class="n">yptsIS2</span><span class="p">)</span>
    
    <span class="c1">#create xarray DataArray object with descriptive coordinates </span>
    <span class="n">driftsArray</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">DataArray</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">driftsGridded</span><span class="p">,</span> <span class="n">dims</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">coords</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;latitude&#39;</span><span class="p">:</span> <span class="p">((</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">is2Lats</span><span class="p">),</span> <span class="s1">&#39;longitude&#39;</span><span class="p">:</span> <span class="p">((</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">is2Lons</span><span class="p">)})</span>
    <span class="n">driftsArray</span><span class="o">.</span><span class="n">attrs</span> <span class="o">=</span> <span class="n">drifts</span><span class="p">[</span><span class="n">var</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span>
    <span class="n">driftsArray</span> <span class="o">=</span> <span class="n">driftsArray</span><span class="o">.</span><span class="n">assign_attrs</span><span class="p">(</span><span class="n">drifts</span><span class="o">.</span><span class="n">attrs</span><span class="p">)</span>

    <span class="c1">#add to ICESat-2 dataset</span>
    <span class="n">is2</span><span class="p">[</span><span class="n">var</span><span class="p">]</span> <span class="o">=</span> <span class="n">driftsArray</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="add-region-mask-as-a-coordinate-to-the-final-dataset">
<h1>Add region mask as a coordinate to the final dataset<a class="headerlink" href="#add-region-mask-as-a-coordinate-to-the-final-dataset" title="Permalink to this headline">¶</a></h1>
<p>This allows the user to easily mask regions when analyzing the data. See the region masking notebook for more information on the utility of this.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#add region mask as coordinate to dataset</span>
<span class="n">is2</span> <span class="o">=</span> <span class="n">is2</span><span class="o">.</span><span class="n">assign_coords</span><span class="p">(</span><span class="n">coords</span> <span class="o">=</span> <span class="n">regionMaskCoords</span><span class="p">)</span>

<span class="c1">#add descriptive attributes </span>
<span class="n">is2</span><span class="o">.</span><span class="n">region_mask</span><span class="o">.</span><span class="n">attrs</span> <span class="o">=</span> <span class="n">regionMaskAttrs</span>
<span class="n">is2</span><span class="o">.</span><span class="n">longitude</span><span class="o">.</span><span class="n">attrs</span> <span class="o">=</span> <span class="n">is2LonsAttrs</span>
<span class="n">is2</span><span class="o">.</span><span class="n">latitude</span><span class="o">.</span><span class="n">attrs</span> <span class="o">=</span> <span class="n">is2LatsAttrs</span>
<span class="n">is2</span><span class="o">.</span><span class="n">attrs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;description&#39;</span><span class="p">:</span><span class="s1">&#39;data used in nicolejkeeney ICESat-2 jupyter book&#39;</span><span class="p">,</span> <span class="s1">&#39;note&#39;</span><span class="p">:</span> <span class="s1">&#39;see individual data variables for references&#39;</span><span class="p">,</span> <span class="s1">&#39;creation date&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">())}</span>

<span class="nb">print</span><span class="p">(</span><span class="n">is2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;xarray.Dataset&gt;
Dimensions:                   (time: 12, x: 304, y: 448)
Coordinates:
  * time                      (time) datetime64[ns] 2018-11-01 ... 2020-04-01
    longitude                 (y, x) float32 168.3 168.1 168.0 ... -10.18 -9.999
    latitude                  (y, x) float32 31.1 31.2 31.3 ... 34.58 34.47
    region_mask               (y, x) uint8 1 1 1 1 1 1 1 1 1 ... 1 1 1 1 1 1 1 1
Dimensions without coordinates: x, y
Data variables: (12/25)
    xgrid                     (time, y, x) float32 -3.838e+06 ... 3.738e+06
    ygrid                     (time, y, x) float32 5.838e+06 ... -5.338e+06
    ice_thickness             (time, y, x) float32 0.0 0.0 0.0 ... 0.0 0.0 0.0
    ice_thickness_unc         (time, y, x) float32 nan nan nan ... nan nan nan
    num_segments              (time, y, x) float32 nan nan nan ... nan nan nan
    mean_day_of_month         (time, y, x) float32 nan nan nan ... nan nan nan
    ...                        ...
    t2m                       (time, y, x) float32 nan nan nan ... nan nan nan
    msdwlwrf                  (time, y, x) float32 nan nan nan ... nan nan nan
    PIOMAS_ice_thickness      (time, y, x) float32 0.0 0.0 0.0 ... 0.0 0.0 0.0
    drifts_uT                 (time, y, x) float32 nan nan nan ... nan nan nan
    drifts_vT                 (time, y, x) float32 nan nan nan ... nan nan nan
    drifts_magnitude          (time, y, x) float32 nan nan nan ... nan nan nan
Attributes:
    description:    data used in nicolejkeeney ICESat-2 jupyter book
    note:           see individual data variables for references
    creation date:  2021-05-26
</pre></div>
</div>
</div>
</div>
<div class="section" id="save-data-to-local-machine">
<h2>Save data to local machine<a class="headerlink" href="#save-data-to-local-machine" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">is2_filename</span> <span class="o">=</span> <span class="s1">&#39;icesat2-book-data.nc&#39;</span>
<span class="n">is2</span><span class="o">.</span><span class="n">to_netcdf</span><span class="p">(</span><span class="n">path</span> <span class="o">=</span> <span class="n">localDirectory</span> <span class="o">+</span> <span class="n">is2_filename</span><span class="p">,</span> <span class="nb">format</span> <span class="o">=</span> <span class="s1">&#39;NETCDF4&#39;</span><span class="p">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;File &#39;</span> <span class="o">+</span> <span class="s1">&#39;&quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span> <span class="o">%</span> <span class="n">is2_filename</span> <span class="o">+</span> <span class="s1">&#39; saved to directory &#39;</span> <span class="o">+</span> <span class="s1">&#39;&quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span> <span class="o">%</span> <span class="n">localDirectory</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>File &quot;icesat2-book-data.nc&quot; saved to directory &quot;/Users/nicolekeeney/github_repos/icesat2-book-data/&quot;
</pre></div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./delete"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Nicole Keeney<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
<script async="" src="https://www.google-analytics.com/analytics.js"></script>
<script>
                        window.ga = window.ga || function () {
                            (ga.q = ga.q || []).push(arguments) };
                        ga.l = +new Date;
                        ga('create', 'UA-177768395-1', 'auto');
                        ga('set', 'anonymizeIp', true);
                        ga('send', 'pageview');
                    </script>

  </body>
</html>